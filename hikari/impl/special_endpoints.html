<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>hikari.impl.special_endpoints API documentation</title>
<meta name="description" content="Special endpoint implementations …">
<meta property="og:title" content="hikari.impl.special_endpoints module list">
<meta property="og:type" content="website">
<meta property="og:image" content="https://hikari-py.github.io/hikari/logo.png">
<meta property="og:description" content="A Discord Bot framework for modern Python and asyncio built on good intentions">
<meta property="theme-color" content="#ff029a">
<link rel="shortcut icon" type="image/png" href="../../logo.png">
<!--<script async src="https://cse.google.com/cse.js?cx=017837193012385208679:pey8ky8gdqw"></script>
<style>.gsc-control-cse {padding:0 !important;margin-top:1em}</style>-->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css" rel="stylesheet">
<style>
img#logo {
border-radius: 15px;
width: 30px;
height: 30px;
margin-right: 0.5em;
text-indent: 100%;
white-space: nowrap;
overflow: hidden;
}
small.smaller {
font-size: 0.50em;
}
html {
height: 100%;
scroll-behavior: smooth;
scrollbar-color: #202324 #454a4d;
}
body {
background-color: #181A1B;
color: #C9C5C0;
height: fit-content;
}
h1 {
margin-top: 3rem;
}
h2 {
margin-top: 1.75rem;
margin-bottom: 1em;
}
h3 {
margin-top: 1.25rem;
}
h4 {
margin-top: 1rem;
}
.nav-section {
margin-top: 2em;
}
.monospaced {
font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
a.sidebar-nav-pill,
a.sidebar-nav-pill:active,
a.sidebar-nav-pill:hover {
color: #BDB7AF;
}
.module-source > details > pre {
display: block;
overflow-x: auto;
overflow-y: auto;
max-height: 600px;
font-size: 0.8em;
}
a {
color: #DE4F91;
}
a:hover {
color: #64B1F2;
}
.container > li {
margin-left: 1em;
margin-top: 2.5em;
}
.jumbotron {
background-color: #232627;
}
.breadcrumb-item.inactive > a {
color: #d264d0 !important;
}
.breadcrumb-item.active > a {
color: #de4f91 !important;
}
.breadcrumb-item+.breadcrumb-item::before {
content: ".";
}
.module-breadcrumb {
padding-left: 0 !important;
background-color: #232627;
}
ul.nested {
margin-left: 1em;
}
h2#parameters::after {
margin-left: 2em;
}
.anchor:target {
background-color: var(--dark);
}
@media screen and (max-width: 990px) {
.anchor:target {
margin-left: -2em;
padding-left: 2em;
}
}
@media screen and (min-width: 990px) {
.anchor:target {
border-radius: 0.5em; !important
margin-right: -2em;
padding-right: 2em;
margin-top: -1em;
padding-top: 1em;
}
}
dt {
margin-left: 2em;
}
dd {
margin-left: 4em;
}
dl.no-nest > dt {
margin-left: 0em;
}
dl.no-nest > dd {
margin-left: 2em;
}
dl.root {
margin-bottom: 2em;
}
.definition {
display: block;
margin-bottom: 8em !important;
}
.definition .row {
display: block;
margin-bottom: 4em !important;
}
.definition h2 {
font-size: 1em;
font-weight: bolder;
}
.sep {
height: 2em;
}
code {
color: #DB61D9;
}
code .active {
color: #e83e8c;
}
code a {
color: #E94A93;
}
a.dotted:hover, abbr:hover {
text-decoration: underline #9E9689 dotted !important;
}
a.dotted, abbr {
text-decoration: none !important;
}
.gsc-search-box, .gsc-search-box-tools, .gsc-control-cse {
background: none !important;
border: none !important;
}
.gsc-search-button-v2, .gsc-search-button-v2:hover, .gsc-search-button-v2:focus {
color: var(--success) !important;
border-color: var(--success) !important;
background: none !important;
padding: 6px 32px !important;
font-size: inherit !important;
}
.gsc-search-button-v2 > svg {
fill: var(--success) !important;
}
.gsc-input-box {
border-radius: 3px;
}
.gsc-control-cse {
width: 300px !important;
margin-top: 0 !important;
}
.gsc-control-cse .gsc-control-cse-en {
margin-top: 0 !important;
}
.bg-dark {
background-color: #2C2F31 !important;
}
.text-muted {
color: #9E9689 !important;
}
.alert-primary {
color: #7CC3FF;
background-color: #262A2B;
border-color: #003B7B;
}
.alert-secondary {
color: #C2BCB4;
background-color: #282B2C;
border-color: #3B4042;
}
.alert-success {
color: #99E6AB;
background-color: #1A3E29;
border-color: #255A32;
}
.alert-info {
color: #8EE3F1;
background-color: #143B43;
border-color: #1E5961;
}
.alert-warning {
color: #FBD770;
background-color: #513E00;
border-color: #7B5C00;
}
.alert-danger {
color: rgb(225, 134, 143);
background-color: rgb(67, 12, 17);
border-color: rgb(104, 18, 27);
}
mark {
background-color: #333333;
border-radius: 0.1em;
color: #DB61D9;
}
</style>
<script async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_CHTML'></script>
</head>
<body>
<nav id="main-nav" class="navbar navbar-dark navbar-expand-lg bg-dark">
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"/>
</button>
<a class="navbar-brand" href="https://github.com/hikari-py/hikari"><img class="d-inline-block align-top" src="../../logo.png" id="logo" alt="hikari logo" loading="lazy"/>Hikari <small class="smaller">2.0.0.dev101</small></a>
<div class="collapse navbar-collapse" id="navbarNavDropdown">
<ul class="navbar-nav mr-auto">
<li class="nav-item"><a class="nav-link" href="../../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link active" href="../../hikari/index.html">Documentation</a></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/hikari-py/hikari">GitHub</a></li>
<li class="nav-item"><a class="nav-link" href="https://pypi.org/project/hikari">PyPI</a></li>
<li class="nav-item"><a class="nav-link" href="https://discord.gg/Jx4cNGG">Discord Server</a></li>
</ul>
<form class="form-inline" action="../../hikari/search.html">
<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="lunr-search" name="q"/>
<button class="btn btn-outline-success my-2 my-sm-0" type="submit">&gt;</button>
</form>
</div>
</nav>
<div class="jumbotron jumbotron-fluid">
<div class="container">
<h1 class="display-4"><code>
<nav aria-label="breadcrumb">
<ol class="breadcrumb module-breadcrumb">
<li class="breadcrumb-item inactive"><a title="hikari -- A sane Python framework for writing modern Discord bots …" href="../index.html"
>hikari</a></li>
<li class="breadcrumb-item inactive"><a title="hikari.impl -- Basic implementations of application components …" href="index.html"
>impl</a></li>
<li class="breadcrumb-item active"><a href="#">special_endpoints</a></li>
</ol>
</nav>
</code></h1>
<p class="lead"><p>Special endpoint implementations.</p>
<p>You should never need to make any of these objects manually.</p></p>
</div>
</div>
<div class="container-xl">
<div class="row">
<div class="d-md-none d-lg-block col-lg-5 col-xl-4">
<!--<nav class="nav" id="content-nav">-->
<h3>This module</h3>
<ul class="list-unstyled text-truncate">
<li class="monospaced text-truncate">
<small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="CommandBuilder -- Standard implementation of `hikari.api.special_endpoints.CommandBuilder` …" href="#hikari.impl.special_endpoints.CommandBuilder"
>CommandBuilder</a>
<ul class="list-unstyled nested text-truncate">
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="add_option -- Add an option to this command …" href="#hikari.impl.special_endpoints.CommandBuilder.add_option"
>add_option</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="build -- Build a JSON object from this builder …" href="#hikari.impl.special_endpoints.CommandBuilder.build"
>build</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="default_permission -- Whether the command should be enabled by default (without any permissions) …" href="#hikari.impl.special_endpoints.CommandBuilder.default_permission"
>default_permission</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="description -- Return the description to set for this command …" href="#hikari.impl.special_endpoints.CommandBuilder.description"
>description</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="id -- ID of this command …" href="#hikari.impl.special_endpoints.CommandBuilder.id"
>id</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="name -- Name to set for this command …" href="#hikari.impl.special_endpoints.CommandBuilder.name"
>name</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="options -- Sequence of up to 25 of the options set for this command …" href="#hikari.impl.special_endpoints.CommandBuilder.options"
>options</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_default_permission -- Whether this command should be enabled by default (without any permissions) …" href="#hikari.impl.special_endpoints.CommandBuilder.set_default_permission"
>set_default_permission</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_id -- Set the ID of this command …" href="#hikari.impl.special_endpoints.CommandBuilder.set_id"
>set_id</a>
</li>
<br />
</ul>
</li>
<li class="monospaced text-truncate">
<small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="#hikari.impl.special_endpoints.GuildBuilder"
>GuildBuilder</a>
<ul class="list-unstyled nested text-truncate">
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="add_category -- Create a category channel …" href="#hikari.impl.special_endpoints.GuildBuilder.add_category"
>add_category</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="add_role -- Create a role …" href="#hikari.impl.special_endpoints.GuildBuilder.add_role"
>add_role</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="add_stage_channel -- Create a stage channel …" href="#hikari.impl.special_endpoints.GuildBuilder.add_stage_channel"
>add_stage_channel</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="add_text_channel -- Create a text channel …" href="#hikari.impl.special_endpoints.GuildBuilder.add_text_channel"
>add_text_channel</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="add_voice_channel -- Create a voice channel …" href="#hikari.impl.special_endpoints.GuildBuilder.add_voice_channel"
>add_voice_channel</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A function that returns a coroutine and must be awaited.'>async def</abbr></em></small> <a title="create -- Send the request to Discord to create the guild …" href="#hikari.impl.special_endpoints.GuildBuilder.create"
>create</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="default_message_notifications -- Default message notification level that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.default_message_notifications"
>default_message_notifications</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="explicit_content_filter_level -- Explicit content filter level that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.explicit_content_filter_level"
>explicit_content_filter_level</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="icon -- Guild icon to use that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.icon"
>icon</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="name -- Name of the guild to create …" href="#hikari.impl.special_endpoints.GuildBuilder.name"
>name</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="verification_level -- Verification level required to join the guild that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.verification_level"
>verification_level</a>
</li>
<br />
</ul>
</li>
<li class="monospaced text-truncate">
<small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="InteractionDeferredBuilder -- Standard implementation of `hikari.api.special_endpoints.InteractionDeferredBuilder` …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder"
>InteractionDeferredBuilder</a>
<ul class="list-unstyled nested text-truncate">
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="build -- Build a JSON object from this builder …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.build"
>build</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="flags -- Message flags this response should have …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.flags"
>flags</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_flags -- Set message flags for this response …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.set_flags"
>set_flags</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="type -- Return the type of this response …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.type"
>type</a>
</li>
<br />
</ul>
</li>
<li class="monospaced text-truncate">
<small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="InteractionMessageBuilder -- Standard implementation of `hikari.api.special_endpoints.InteractionMessageBuilder` …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a>
<ul class="list-unstyled nested text-truncate">
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="add_embed -- Add an embed to this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.add_embed"
>add_embed</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="build -- Build a JSON object from this builder …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.build"
>build</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="content -- Response's message content …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.content"
>content</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="embeds -- Sequence of up to 10 of the embeds included in this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.embeds"
>embeds</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="flags -- Message flags this response should have …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.flags"
>flags</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="is_tts -- Whether this response's content should be treated as text-to-speech …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.is_tts"
>is_tts</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="mentions_everyone -- Whether @everyone and @here mentions should be enabled for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.mentions_everyone"
>mentions_everyone</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="role_mentions -- Whether and what role mentions should be enabled for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.role_mentions"
>role_mentions</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_content -- Set the response's message content …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_content"
>set_content</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_flags -- Set message flags for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_flags"
>set_flags</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_mentions_everyone -- Set whether this response should be able to mention @everyone/@here …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_mentions_everyone"
>set_mentions_everyone</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_role_mentions -- Set whether and what role mentions should be possible for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_role_mentions"
>set_role_mentions</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_tts -- Set whether this response should trigger text-to-speech processing …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_tts"
>set_tts</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A standard Python function.'>def</abbr></em></small> <a title="set_user_mentions -- Set whether and what user mentions should be possible for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_user_mentions"
>set_user_mentions</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="type -- Return the type of this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.type"
>type</a>
</li>
<li class="text-truncate monospaced">
<small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="user_mentions -- Whether and what user mentions should be enabled for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.user_mentions"
>user_mentions</a>
</li>
<br />
</ul>
</li>
<li class="monospaced text-truncate">
<small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="TypingIndicator -- Result type of `hikari.api.rest.RESTClient.trigger_typing` …" href="#hikari.impl.special_endpoints.TypingIndicator"
>TypingIndicator</a>
<ul class="list-unstyled nested text-truncate">
<br />
</ul>
</li>
</ul>
<!--</nav>-->
</div>
<div class="col-xs-12 col-lg-7 col-xl-8">
<div class="row">
<div class="col module-source">
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L1-L923" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python"># -*- coding: utf-8 -*-
# cython: language_level=3
# Copyright (c) 2020 Nekokatt
# Copyright (c) 2021 davfsa
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the &#34;Software&#34;), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED &#34;AS IS&#34;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.
&#34;&#34;&#34;Special endpoint implementations.

You should never need to make any of these objects manually.
&#34;&#34;&#34;
from __future__ import annotations

__all__: typing.List[str] = [
    &#34;CommandBuilder&#34;,
    &#34;TypingIndicator&#34;,
    &#34;GuildBuilder&#34;,
    &#34;InteractionDeferredBuilder&#34;,
    &#34;InteractionMessageBuilder&#34;,
]

import asyncio
import typing

import attr

from hikari import channels
from hikari import commands
from hikari import errors
from hikari import files
from hikari import iterators
from hikari import snowflakes
from hikari import undefined
from hikari.api import special_endpoints
from hikari.interactions import base_interactions
from hikari.internal import attr_extensions
from hikari.internal import data_binding
from hikari.internal import mentions
from hikari.internal import routes
from hikari.internal import time

if typing.TYPE_CHECKING:
    import concurrent.futures
    import types

    from hikari import applications
    from hikari import audit_logs
    from hikari import colors
    from hikari import embeds as embeds_
    from hikari import guilds
    from hikari import messages
    from hikari import permissions as permissions_
    from hikari import users
    from hikari import voices
    from hikari.api import entity_factory as entity_factory_

    _CommandBuilderT = typing.TypeVar(&#34;_CommandBuilderT&#34;, bound=&#34;CommandBuilder&#34;)
    _InteractionMessageBuilderT = typing.TypeVar(&#34;_InteractionMessageBuilderT&#34;, bound=&#34;InteractionMessageBuilder&#34;)
    _InteractionDeferredBuilderT = typing.TypeVar(&#34;_InteractionDeferredBuilderT&#34;, bound=&#34;InteractionDeferredBuilder&#34;)


@typing.final
class TypingIndicator(special_endpoints.TypingIndicator):
    &#34;&#34;&#34;Result type of `hikari.api.rest.RESTClient.trigger_typing`.

    This is an object that can either be awaited like a coroutine to trigger
    the typing indicator once, or an async context manager to keep triggering
    the typing indicator repeatedly until the context finishes.

    !!! note
        This is a helper class that is used by `hikari.api.rest.RESTClient`.
        You should only ever need to use instances of this class that are
        produced by that API.
    &#34;&#34;&#34;

    __slots__: typing.Sequence[str] = (&#34;_route&#34;, &#34;_request_call&#34;, &#34;_task&#34;, &#34;_rest_close_event&#34;, &#34;_task_name&#34;)

    def __init__(
        self,
        request_call: typing.Callable[
            ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
        ],
        channel: snowflakes.SnowflakeishOr[channels.TextableChannel],
        rest_closed_event: asyncio.Event,
    ) -&gt; None:
        self._route = routes.POST_CHANNEL_TYPING.compile(channel=channel)
        self._request_call = request_call
        self._task_name = f&#34;repeatedly trigger typing in {channel}&#34;
        self._task: typing.Optional[asyncio.Task[None]] = None
        self._rest_close_event = rest_closed_event

    def __await__(self) -&gt; typing.Generator[typing.Any, typing.Any, typing.Any]:
        return self._request_call(self._route).__await__()

    async def __aenter__(self) -&gt; None:
        if self._task is not None:
            raise TypeError(&#34;cannot enter a typing indicator context more than once.&#34;)
        self._task = asyncio.create_task(self._keep_typing(), name=self._task_name)

    async def __aexit__(
        self,
        exc_type: typing.Optional[typing.Type[BaseException]],
        exc_val: typing.Optional[BaseException],
        exc_tb: typing.Optional[types.TracebackType],
    ) -&gt; None:
        # This will always be true, but this keeps MyPy quiet.
        if self._task is not None:
            self._task.cancel()

    # These are only included at runtime in-order to avoid the model being typed as a synchronous context manager.
    if not typing.TYPE_CHECKING:

        def __enter__(self) -&gt; typing.NoReturn:
            # This is async only.
            cls = type(self)
            raise TypeError(f&#34;{cls.__module__}.{cls.__qualname__} is async-only, did you mean &#39;async with&#39;?&#34;) from None

        def __exit__(
            self,
            exc_type: typing.Optional[typing.Type[Exception]],
            exc_val: typing.Optional[Exception],
            exc_tb: typing.Optional[types.TracebackType],
        ) -&gt; None:
            return None

    async def _keep_typing(self) -&gt; None:
        # Cancelled error will occur when the context manager is requested to
        # stop.
        try:
            # If the REST API closes while typing, just stop.
            while not self._rest_close_event.is_set():
                # Use slightly less than 10s to ensure latency does not
                # cause the typing indicator to stop showing for a split
                # second if the request is slow to execute.
                try:
                    await asyncio.gather(self, asyncio.wait_for(self._rest_close_event.wait(), timeout=9.0))
                except asyncio.TimeoutError:
                    pass

        except (asyncio.CancelledError, errors.ComponentStateConflictError):
            pass


# As a note, slotting allows us to override the settable properties while staying within the interface&#39;s spec.
@attr_extensions.with_copy
@attr.define(kw_only=True, weakref_slot=False)
class GuildBuilder(special_endpoints.GuildBuilder):
    &#34;&#34;&#34;Result type of `hikari.api.rest.RESTClient.guild_builder`.

    This is used to create a guild in a tidy way using the HTTP API, since
    the logic behind creating a guild on an API level is somewhat confusing
    and detailed.

    !!! note
        This is a helper class that is used by `hikari.api.rest.RESTClient`.
        You should only ever need to use instances of this class that are
        produced by that API, thus, any details about the constructor are
        omitted from the following examples for brevity.

    Examples
    --------
    Creating an empty guild.

    ```py
    guild = await rest.guild_builder(&#34;My Server!&#34;).create()
    ```

    Creating a guild with an icon

    ```py
    from hikari.files import WebResourceStream

    guild_builder = rest.guild_builder(&#34;My Server!&#34;)
    guild_builder.icon = WebResourceStream(&#34;cat.png&#34;, &#34;http://...&#34;)
    guild = await guild_builder.create()
    ```

    Adding roles to your guild.

    ```py
    from hikari.permissions import Permissions

    guild_builder = rest.guild_builder(&#34;My Server!&#34;)

    everyone_role_id = guild_builder.add_role(&#34;@everyone&#34;)
    admin_role_id = guild_builder.add_role(&#34;Admins&#34;, permissions=Permissions.ADMINISTRATOR)

    await guild_builder.create()
    ```

    !!! warning
        The first role must always be the `@everyone` role.

    !!! note
        If you call `add_role`, the default roles provided by discord will
        be created. This also applies to the `add_` functions for
        text channels/voice channels/categories.

    !!! note
        Functions that return a `hikari.snowflakes.Snowflake` do
        **not** provide the final ID that the object will have once the
        API call is made. The returned IDs are only able to be used to
        re-reference particular objects while building the guild format.

        This is provided to allow creation of channels within categories,
        and to provide permission overwrites.

    Adding a text channel to your guild.

    ```py
    guild_builder = rest.guild_builder(&#34;My Server!&#34;)

    category_id = guild_builder.add_category(&#34;My safe place&#34;)
    channel_id = guild_builder.add_text_channel(&#34;general&#34;, parent_id=category_id)

    await guild_builder.create()
    ```
    &#34;&#34;&#34;

    # Required arguments.
    _entity_factory: entity_factory_.EntityFactory = attr.field(metadata={attr_extensions.SKIP_DEEP_COPY: True})
    _executor: typing.Optional[concurrent.futures.Executor] = attr.field(
        metadata={attr_extensions.SKIP_DEEP_COPY: True}
    )
    _name: str = attr.field()
    _request_call: typing.Callable[
        ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
    ] = attr.field(metadata={attr_extensions.SKIP_DEEP_COPY: True})

    # Optional arguments.
    default_message_notifications: undefined.UndefinedOr[guilds.GuildMessageNotificationsLevel] = attr.field(
        default=undefined.UNDEFINED
    )
    explicit_content_filter_level: undefined.UndefinedOr[guilds.GuildExplicitContentFilterLevel] = attr.field(
        default=undefined.UNDEFINED
    )
    icon: undefined.UndefinedOr[files.Resourceish] = attr.field(default=undefined.UNDEFINED)
    verification_level: undefined.UndefinedOr[typing.Union[guilds.GuildVerificationLevel, int]] = attr.field(
        default=undefined.UNDEFINED
    )

    # Non-arguments
    _channels: typing.MutableSequence[data_binding.JSONObject] = attr.field(factory=list, init=False)
    _counter: int = attr.field(default=0, init=False)
    _roles: typing.MutableSequence[data_binding.JSONObject] = attr.field(factory=list, init=False)

    @property
    def name(self) -&gt; str:
        return self._name

    async def create(self) -&gt; guilds.RESTGuild:
        route = routes.POST_GUILDS.compile()
        payload = data_binding.JSONObjectBuilder()
        payload.put(&#34;name&#34;, self.name)
        payload.put_array(&#34;roles&#34;, self._roles if self._roles else undefined.UNDEFINED)
        payload.put_array(&#34;channels&#34;, self._channels if self._channels else undefined.UNDEFINED)
        payload.put(&#34;verification_level&#34;, self.verification_level)
        payload.put(&#34;default_message_notifications&#34;, self.default_message_notifications)
        payload.put(&#34;explicit_content_filter&#34;, self.explicit_content_filter_level)

        if self.icon is not undefined.UNDEFINED:
            icon = files.ensure_resource(self.icon)

            async with icon.stream(executor=self._executor) as stream:
                data_uri = await stream.data_uri()
                payload.put(&#34;icon&#34;, data_uri)

        response = await self._request_call(route, json=payload)
        assert isinstance(response, dict)
        return self._entity_factory.deserialize_rest_guild(response)

    def add_role(
        self,
        name: str,
        /,
        *,
        color: undefined.UndefinedOr[colors.Colorish] = undefined.UNDEFINED,
        colour: undefined.UndefinedOr[colors.Colorish] = undefined.UNDEFINED,
        hoist: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
        mentionable: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
        permissions: undefined.UndefinedOr[permissions_.Permissions] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        if not undefined.any_undefined(color, colour):
            raise TypeError(&#34;Cannot specify &#39;color&#39; and &#39;colour&#39; together.&#34;)

        if len(self._roles) == 0:
            if name != &#34;@everyone&#34;:
                raise ValueError(&#34;First role must always be the &#39;@everyone&#39; role&#34;)
            if not undefined.all_undefined(color, colour, hoist, mentionable, position):
                raise ValueError(
                    &#34;Cannot pass &#39;color&#39;, &#39;colour&#39;, &#39;hoist&#39;, &#39;mentionable&#39; nor &#39;position&#39; to the &#39;@everyone&#39; role.&#34;
                )

        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;color&#34;, color, conversion=colors.Color.of)
        payload.put(&#34;color&#34;, colour, conversion=colors.Color.of)
        payload.put(&#34;hoist&#34;, hoist)
        payload.put(&#34;mentionable&#34;, mentionable)
        payload.put(&#34;permissions&#34;, permissions)
        payload.put(&#34;position&#34;, position)
        self._roles.append(payload)
        return snowflake_id

    def add_category(
        self,
        name: str,
        /,
        *,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        nsfw: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_CATEGORY)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;nsfw&#34;, nsfw)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def add_text_channel(
        self,
        name: str,
        /,
        *,
        parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
        topic: undefined.UndefinedOr[str] = undefined.UNDEFINED,
        rate_limit_per_user: undefined.UndefinedOr[time.Intervalish] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        nsfw: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_TEXT)
        payload.put(&#34;topic&#34;, topic)
        payload.put(&#34;rate_limit_per_user&#34;, rate_limit_per_user, conversion=time.timespan_to_int)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;nsfw&#34;, nsfw)
        payload.put_snowflake(&#34;parent_id&#34;, parent_id)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def add_voice_channel(
        self,
        name: str,
        /,
        *,
        parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
        bitrate: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        video_quality_mode: undefined.UndefinedOr[typing.Union[channels.VideoQualityMode, int]] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        region: undefined.UndefinedNoneOr[typing.Union[voices.VoiceRegion, str]],
        user_limit: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_VOICE)
        payload.put(&#34;video_quality_mode&#34;, video_quality_mode)
        payload.put(&#34;bitrate&#34;, bitrate)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;user_limit&#34;, user_limit)
        payload.put_snowflake(&#34;parent_id&#34;, parent_id)
        payload.put(&#34;rtc_region&#34;, region, conversion=str)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def add_stage_channel(
        self,
        name: str,
        /,
        *,
        parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
        bitrate: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        region: undefined.UndefinedNoneOr[typing.Union[voices.VoiceRegion, str]],
        user_limit: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_STAGE)
        payload.put(&#34;bitrate&#34;, bitrate)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;user_limit&#34;, user_limit)
        payload.put_snowflake(&#34;parent_id&#34;, parent_id)
        payload.put(&#34;rtc_region&#34;, region, conversion=str)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def _new_snowflake(self) -&gt; snowflakes.Snowflake:
        value = self._counter
        self._counter += 1
        return snowflakes.Snowflake.from_data(time.utc_datetime(), 0, 0, value)


# We use an explicit forward reference for this, since this breaks potential
# circular import issues (once the file has executed, using those resources is
# not an issue for us).
class MessageIterator(iterators.BufferedLazyIterator[&#34;messages.Message&#34;]):
    &#34;&#34;&#34;Implementation of an iterator for message history.&#34;&#34;&#34;

    __slots__: typing.Sequence[str] = (&#34;_entity_factory&#34;, &#34;_request_call&#34;, &#34;_direction&#34;, &#34;_first_id&#34;, &#34;_route&#34;)

    def __init__(
        self,
        entity_factory: entity_factory_.EntityFactory,
        request_call: typing.Callable[
            ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
        ],
        channel: snowflakes.SnowflakeishOr[channels.TextableChannel],
        direction: str,
        first_id: undefined.UndefinedOr[str],
    ) -&gt; None:
        super().__init__()
        self._entity_factory = entity_factory
        self._request_call = request_call
        self._direction = direction
        self._first_id = first_id
        self._route = routes.GET_CHANNEL_MESSAGES.compile(channel=channel)

    async def _next_chunk(self) -&gt; typing.Optional[typing.Generator[messages.Message, typing.Any, None]]:
        query = data_binding.StringMapBuilder()
        query.put(self._direction, self._first_id)
        query.put(&#34;limit&#34;, 100)

        chunk = await self._request_call(compiled_route=self._route, query=query)
        assert isinstance(chunk, list)

        if not chunk:
            return None
        if self._direction == &#34;after&#34;:
            chunk.reverse()

        self._first_id = chunk[-1][&#34;id&#34;]
        return (self._entity_factory.deserialize_message(m) for m in chunk)


# We use an explicit forward reference for this, since this breaks potential
# circular import issues (once the file has executed, using those resources is
# not an issue for us).
class ReactorIterator(iterators.BufferedLazyIterator[&#34;users.User&#34;]):
    &#34;&#34;&#34;Implementation of an iterator for message reactions.&#34;&#34;&#34;

    __slots__: typing.Sequence[str] = (&#34;_entity_factory&#34;, &#34;_first_id&#34;, &#34;_route&#34;, &#34;_request_call&#34;)

    def __init__(
        self,
        entity_factory: entity_factory_.EntityFactory,
        request_call: typing.Callable[
            ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
        ],
        channel: snowflakes.SnowflakeishOr[channels.TextableChannel],
        message: snowflakes.SnowflakeishOr[messages.PartialMessage],
        emoji: str,
    ) -&gt; None:
        super().__init__()
        self._entity_factory = entity_factory
        self._request_call = request_call
        self._first_id = undefined.UNDEFINED
        self._route = routes.GET_REACTIONS.compile(channel=channel, message=message, emoji=emoji)

    async def _next_chunk(self) -&gt; typing.Optional[typing.Generator[users.User, typing.Any, None]]:
        query = data_binding.StringMapBuilder()
        query.put(&#34;after&#34;, self._first_id)
        query.put(&#34;limit&#34;, 100)

        chunk = await self._request_call(compiled_route=self._route, query=query)
        assert isinstance(chunk, list)

        if not chunk:
            return None

        self._first_id = chunk[-1][&#34;id&#34;]
        return (self._entity_factory.deserialize_user(u) for u in chunk)


# We use an explicit forward reference for this, since this breaks potential
# circular import issues (once the file has executed, using those resources is
# not an issue for us).
class OwnGuildIterator(iterators.BufferedLazyIterator[&#34;applications.OwnGuild&#34;]):
    &#34;&#34;&#34;Implementation of an iterator for retrieving guilds you are in.&#34;&#34;&#34;

    __slots__: typing.Sequence[str] = (&#34;_entity_factory&#34;, &#34;_request_call&#34;, &#34;_route&#34;, &#34;_newest_first&#34;, &#34;_first_id&#34;)

    def __init__(
        self,
        entity_factory: entity_factory_.EntityFactory,
        request_call: typing.Callable[
            ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
        ],
        newest_first: bool,
        first_id: str,
    ) -&gt; None:
        super().__init__()
        self._entity_factory = entity_factory
        self._newest_first = newest_first
        self._request_call = request_call
        self._first_id = first_id
        self._route = routes.GET_MY_GUILDS.compile()

    async def _next_chunk(self) -&gt; typing.Optional[typing.Generator[applications.OwnGuild, typing.Any, None]]:
        query = data_binding.StringMapBuilder()
        query.put(&#34;before&#34; if self._newest_first else &#34;after&#34;, self._first_id)
        # We rely on Discord&#39;s default for the limit here since for this endpoint this has always scaled
        # along side the maximum page size limit to match the maximum amount of guilds a user can be in.

        chunk = await self._request_call(compiled_route=self._route, query=query)
        assert isinstance(chunk, list)

        if not chunk:
            return None

        self._first_id = chunk[-1][&#34;id&#34;]
        return (self._entity_factory.deserialize_own_guild(g) for g in chunk)


# We use an explicit forward reference for this, since this breaks potential
# circular import issues (once the file has executed, using those resources is
# not an issue for us).
class MemberIterator(iterators.BufferedLazyIterator[&#34;guilds.Member&#34;]):
    &#34;&#34;&#34;Implementation of an iterator for retrieving members in a guild.&#34;&#34;&#34;

    __slots__: typing.Sequence[str] = (&#34;_entity_factory&#34;, &#34;_guild_id&#34;, &#34;_request_call&#34;, &#34;_route&#34;, &#34;_first_id&#34;)

    def __init__(
        self,
        entity_factory: entity_factory_.EntityFactory,
        request_call: typing.Callable[
            ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
        ],
        guild: snowflakes.SnowflakeishOr[guilds.PartialGuild],
    ) -&gt; None:
        super().__init__()
        self._guild_id = snowflakes.Snowflake(str(int(guild)))
        self._route = routes.GET_GUILD_MEMBERS.compile(guild=guild)
        self._request_call = request_call
        self._entity_factory = entity_factory
        # This starts at the default provided by discord instead of the max snowflake
        # because that caused discord to take about 2 seconds more to return the first response.
        self._first_id = undefined.UNDEFINED

    async def _next_chunk(self) -&gt; typing.Optional[typing.Generator[guilds.Member, typing.Any, None]]:
        query = data_binding.StringMapBuilder()
        query.put(&#34;after&#34;, self._first_id)
        query.put(&#34;limit&#34;, 1000)

        chunk = await self._request_call(compiled_route=self._route, query=query)
        assert isinstance(chunk, list)

        if not chunk:
            return None

        self._first_id = chunk[-1][&#34;user&#34;][&#34;id&#34;]

        return (self._entity_factory.deserialize_member(m, guild_id=self._guild_id) for m in chunk)


# We use an explicit forward reference for this, since this breaks potential
# circular import issues (once the file has executed, using those resources is
# not an issue for us).
class AuditLogIterator(iterators.LazyIterator[&#34;audit_logs.AuditLog&#34;]):
    &#34;&#34;&#34;Iterator implementation for an audit log.&#34;&#34;&#34;

    __slots__: typing.Sequence[str] = (
        &#34;_entity_factory&#34;,
        &#34;_action_type&#34;,
        &#34;_request_call&#34;,
        &#34;_route&#34;,
        &#34;_first_id&#34;,
        &#34;_user&#34;,
    )

    def __init__(
        self,
        entity_factory: entity_factory_.EntityFactory,
        request_call: typing.Callable[
            ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
        ],
        guild: snowflakes.SnowflakeishOr[guilds.PartialGuild],
        before: undefined.UndefinedOr[str],
        user: undefined.UndefinedOr[snowflakes.SnowflakeishOr[users.PartialUser]],
        action_type: undefined.UndefinedOr[typing.Union[&#34;audit_logs.AuditLogEventType&#34;, int]],
    ) -&gt; None:
        self._action_type = action_type
        self._entity_factory = entity_factory
        self._first_id = before
        self._request_call = request_call
        self._route = routes.GET_GUILD_AUDIT_LOGS.compile(guild=guild)
        self._user = user

    async def __anext__(self) -&gt; audit_logs.AuditLog:
        query = data_binding.StringMapBuilder()
        query.put(&#34;limit&#34;, 100)
        query.put(&#34;user_id&#34;, self._user)
        query.put(&#34;action_type&#34;, self._action_type, conversion=int)
        query.put(&#34;before&#34;, self._first_id)

        response = await self._request_call(compiled_route=self._route, query=query)
        assert isinstance(response, dict)

        audit_log_entries = response[&#34;audit_log_entries&#34;]
        if not audit_log_entries:
            raise StopAsyncIteration

        log = self._entity_factory.deserialize_audit_log(response)
        # Since deserialize_audit_log may skip entries it doesn&#39;t recognise,
        # first_id has to be calculated based on the raw payload as log.entries
        # may be missing entries.
        self._first_id = str(min(entry[&#34;id&#34;] for entry in audit_log_entries))
        return log


@attr_extensions.with_copy
@attr.define(kw_only=False, weakref_slot=False)
class InteractionDeferredBuilder(special_endpoints.InteractionDeferredBuilder):
    &#34;&#34;&#34;Standard implementation of `hikari.api.special_endpoints.InteractionDeferredBuilder`.

    Parameters
    ----------
    type : hikari.interactions.base_interactions.DeferredResponseTypesT
        The type of interaction response this is.
    &#34;&#34;&#34;

    # Required arguments.
    _type: base_interactions.DeferredResponseTypesT = attr.field(
        converter=base_interactions.ResponseType,
        validator=attr.validators.in_(base_interactions.DEFERRED_RESPONSE_TYPES),
    )

    _flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag] = attr.field(
        default=undefined.UNDEFINED, kw_only=True
    )

    @property
    def type(self) -&gt; base_interactions.DeferredResponseTypesT:
        return self._type

    @property
    def flags(self) -&gt; typing.Union[undefined.UndefinedType, int, messages.MessageFlag]:
        return self._flags

    def set_flags(
        self: _InteractionDeferredBuilderT, flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag], /
    ) -&gt; _InteractionDeferredBuilderT:
        self._flags = flags
        return self

    def build(self, _: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
        if self._flags is not undefined.UNDEFINED:
            return {&#34;type&#34;: self._type, &#34;data&#34;: {&#34;flags&#34;: self._flags}}

        return {&#34;type&#34;: self._type}


@attr_extensions.with_copy
@attr.define(kw_only=False, weakref_slot=False)
class InteractionMessageBuilder(special_endpoints.InteractionMessageBuilder):
    &#34;&#34;&#34;Standard implementation of `hikari.api.special_endpoints.InteractionMessageBuilder`.

    Parameters
    ----------
    type : hikari.interactions.base_interactions.MessageResponseTypesT
        The type of interaction response this is.

    Other Parameters
    ----------------
    content : hikari.undefined.UndefinedOr[builtins.str]
        The content of this response, if supplied. This follows the same rules
        as &#34;content&#34; on create message.
    &#34;&#34;&#34;

    # Required arguments.
    _type: base_interactions.MessageResponseTypesT = attr.field(
        converter=base_interactions.ResponseType,
        validator=attr.validators.in_(base_interactions.MESSAGE_RESPONSE_TYPES),
    )

    # Not-required arguments.
    _content: undefined.UndefinedOr[str] = attr.field(default=undefined.UNDEFINED)

    # Key-word only not-required arguments.
    _flags: typing.Union[int, messages.MessageFlag, undefined.UndefinedType] = attr.field(
        default=undefined.UNDEFINED, kw_only=True
    )
    _is_tts: undefined.UndefinedOr[bool] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _mentions_everyone: undefined.UndefinedOr[bool] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _role_mentions: undefined.UndefinedOr[
        typing.Union[snowflakes.SnowflakeishSequence[guilds.PartialRole], bool]
    ] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _user_mentions: undefined.UndefinedOr[
        typing.Union[snowflakes.SnowflakeishSequence[users.PartialUser], bool]
    ] = attr.field(default=undefined.UNDEFINED, kw_only=True)

    # Non-arguments.
    _embeds: typing.List[embeds_.Embed] = attr.field(factory=list, init=False)

    @property
    def content(self) -&gt; undefined.UndefinedOr[str]:
        return self._content

    @property
    def embeds(self) -&gt; typing.Sequence[embeds_.Embed]:
        return self._embeds.copy()

    @property
    def flags(self) -&gt; typing.Union[undefined.UndefinedType, int, messages.MessageFlag]:
        return self._flags

    @property
    def is_tts(self) -&gt; undefined.UndefinedOr[bool]:
        return self._is_tts

    @property
    def mentions_everyone(self) -&gt; undefined.UndefinedOr[bool]:
        return self._mentions_everyone

    @property
    def role_mentions(
        self,
    ) -&gt; undefined.UndefinedOr[typing.Union[snowflakes.SnowflakeishSequence[guilds.PartialRole], bool]]:
        return self._role_mentions

    @property
    def type(self) -&gt; base_interactions.MessageResponseTypesT:
        return self._type

    @property
    def user_mentions(
        self,
    ) -&gt; undefined.UndefinedOr[typing.Union[snowflakes.SnowflakeishSequence[users.PartialUser], bool]]:
        return self._user_mentions

    def add_embed(self: _InteractionMessageBuilderT, embed: embeds_.Embed, /) -&gt; _InteractionMessageBuilderT:
        self._embeds.append(embed)
        return self

    def set_content(
        self: _InteractionMessageBuilderT, content: undefined.UndefinedOr[str], /
    ) -&gt; _InteractionMessageBuilderT:
        self._content = content
        return self

    def set_flags(
        self: _InteractionMessageBuilderT, flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag], /
    ) -&gt; _InteractionMessageBuilderT:
        self._flags = flags
        return self

    def set_tts(self: _InteractionMessageBuilderT, tts: undefined.UndefinedOr[bool], /) -&gt; _InteractionMessageBuilderT:
        self._is_tts = tts
        return self

    def set_mentions_everyone(
        self: _InteractionMessageBuilderT, state: undefined.UndefinedOr[bool] = undefined.UNDEFINED, /
    ) -&gt; _InteractionMessageBuilderT:
        self._mentions_everyone = state
        return self

    def set_role_mentions(
        self: _InteractionMessageBuilderT,
        role_mentions: undefined.UndefinedOr[
            typing.Union[snowflakes.SnowflakeishSequence[guilds.PartialRole], bool]
        ] = undefined.UNDEFINED,
        /,
    ) -&gt; _InteractionMessageBuilderT:
        self._role_mentions = role_mentions
        return self

    def set_user_mentions(
        self: _InteractionMessageBuilderT,
        user_mentions: undefined.UndefinedOr[
            typing.Union[snowflakes.SnowflakeishSequence[users.PartialUser], bool]
        ] = undefined.UNDEFINED,
        /,
    ) -&gt; _InteractionMessageBuilderT:
        self._user_mentions = user_mentions
        return self

    def build(self, entity_factory: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
        data = data_binding.JSONObjectBuilder()
        data.put(&#34;content&#34;, self.content)
        if self._embeds:
            embeds: typing.List[data_binding.JSONObject] = []
            for embed, attachments in map(entity_factory.serialize_embed, self._embeds):
                if attachments:
                    raise ValueError(&#34;Cannot send an embed with attachments in a slash command&#39;s initial response&#34;)

                embeds.append(embed)

            data[&#34;embeds&#34;] = embeds

        data.put(&#34;flags&#34;, self.flags)
        data.put(&#34;tts&#34;, self.is_tts)

        if not undefined.all_undefined(self.mentions_everyone, self.user_mentions, self.role_mentions):
            data[&#34;allowed_mentions&#34;] = mentions.generate_allowed_mentions(
                self.mentions_everyone, undefined.UNDEFINED, self.user_mentions, self.role_mentions
            )

        return {&#34;type&#34;: self._type, &#34;data&#34;: data}


@attr_extensions.with_copy
@attr.define(kw_only=False, weakref_slot=False)
class CommandBuilder(special_endpoints.CommandBuilder):
    &#34;&#34;&#34;Standard implementation of `hikari.api.special_endpoints.CommandBuilder`.&#34;&#34;&#34;

    # Required arguments.
    _name: str = attr.field()
    _description: str = attr.field()

    # Key-word only not-required arguments.
    _id: undefined.UndefinedOr[snowflakes.Snowflake] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _default_permission: undefined.UndefinedOr[bool] = attr.field(default=undefined.UNDEFINED, kw_only=True)

    # Non-arguments.
    _options: typing.List[commands.CommandOption] = attr.field(factory=list, init=False)

    @property
    def description(self) -&gt; str:
        return self._description

    @property
    def id(self) -&gt; undefined.UndefinedOr[snowflakes.Snowflake]:
        return self._id

    @property
    def default_permission(self) -&gt; undefined.UndefinedOr[bool]:
        return self._default_permission

    @property
    def options(self) -&gt; typing.Sequence[commands.CommandOption]:
        return self._options.copy()

    @property
    def name(self) -&gt; str:
        return self._name

    def add_option(self: _CommandBuilderT, option: commands.CommandOption) -&gt; _CommandBuilderT:
        self._options.append(option)
        return self

    def set_id(self: _CommandBuilderT, id_: undefined.UndefinedOr[snowflakes.Snowflakeish], /) -&gt; _CommandBuilderT:
        self._id = snowflakes.Snowflake(id_) if id_ is not undefined.UNDEFINED else undefined.UNDEFINED
        return self

    def set_default_permission(self: _CommandBuilderT, state: undefined.UndefinedOr[bool], /) -&gt; _CommandBuilderT:
        self._default_permission = state
        return self

    def build(self, entity_factory: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
        data = data_binding.JSONObjectBuilder()
        data[&#34;name&#34;] = self._name
        data[&#34;description&#34;] = self._description
        data.put_array(&#34;options&#34;, self._options, conversion=entity_factory.serialize_command_option)
        data.put_snowflake(&#34;id&#34;, self._id)
        data.put(&#34;default_permission&#34;, self._default_permission)
        return data</code></pre>
</details>
</div>
</div>
<h2 id="class-heading">Classes</h2>
<section class="definition">
<dl class="no-nest root">
<div id="hikari.impl.special_endpoints.CommandBuilder" class="anchor">
<dt>
<h4><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="CommandBuilder -- Standard implementation of `hikari.api.special_endpoints.CommandBuilder` …" href="#hikari.impl.special_endpoints.CommandBuilder"
>CommandBuilder</a></h4>
</dt>
<dd>
<pre><code id="hikari.impl.special_endpoints.CommandBuilder" class="hljs python"><abbr title='A standard Python type.'>class</abbr> CommandBuilder (
    name: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    description: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    *,
    id: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.Snowflake'>snowflakes.Snowflake</a>] = UNDEFINED,
    default_permission: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
): ...</code></pre>
<p>Standard implementation of <code><a href='../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder'>CommandBuilder</a></code>.</p>
<p>Method generated by attrs for class CommandBuilder.</p>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L870-L923" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class CommandBuilder(special_endpoints.CommandBuilder):
    &#34;&#34;&#34;Standard implementation of `hikari.api.special_endpoints.CommandBuilder`.&#34;&#34;&#34;

    # Required arguments.
    _name: str = attr.field()
    _description: str = attr.field()

    # Key-word only not-required arguments.
    _id: undefined.UndefinedOr[snowflakes.Snowflake] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _default_permission: undefined.UndefinedOr[bool] = attr.field(default=undefined.UNDEFINED, kw_only=True)

    # Non-arguments.
    _options: typing.List[commands.CommandOption] = attr.field(factory=list, init=False)

    @property
    def description(self) -&gt; str:
        return self._description

    @property
    def id(self) -&gt; undefined.UndefinedOr[snowflakes.Snowflake]:
        return self._id

    @property
    def default_permission(self) -&gt; undefined.UndefinedOr[bool]:
        return self._default_permission

    @property
    def options(self) -&gt; typing.Sequence[commands.CommandOption]:
        return self._options.copy()

    @property
    def name(self) -&gt; str:
        return self._name

    def add_option(self: _CommandBuilderT, option: commands.CommandOption) -&gt; _CommandBuilderT:
        self._options.append(option)
        return self

    def set_id(self: _CommandBuilderT, id_: undefined.UndefinedOr[snowflakes.Snowflakeish], /) -&gt; _CommandBuilderT:
        self._id = snowflakes.Snowflake(id_) if id_ is not undefined.UNDEFINED else undefined.UNDEFINED
        return self

    def set_default_permission(self: _CommandBuilderT, state: undefined.UndefinedOr[bool], /) -&gt; _CommandBuilderT:
        self._default_permission = state
        return self

    def build(self, entity_factory: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
        data = data_binding.JSONObjectBuilder()
        data[&#34;name&#34;] = self._name
        data[&#34;description&#34;] = self._description
        data.put_array(&#34;options&#34;, self._options, conversion=entity_factory.serialize_command_option)
        data.put_snowflake(&#34;id&#34;, self._id)
        data.put(&#34;default_permission&#34;, self._default_permission)
        return data</code></pre>
</details>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="CommandBuilder -- Standard implementation of `hikari.api.special_endpoints.CommandBuilder` …" href="#hikari.impl.special_endpoints.CommandBuilder"
>CommandBuilder</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class which may have abstract methods and abstract properties.'>abstract</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="CommandBuilder -- Interface of a command builder used when bulk creating commands over REST." href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder"
>CommandBuilder</a></dt>
<dd class="nested"><p>Interface of a command builder used when bulk creating commands over REST.</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="abc.ABC -- Helper class that provides a standard way to create an ABC using
inheritance." href="https://docs.python.org/3/library/abc.html#abc.ABC"
>abc.ABC</a></dt>
<dd class="nested"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></dd>
</dl>
<div class="sep"></div>
<h5>Variables and properties</h5>
<dl>
<div id="hikari.impl.special_endpoints.CommandBuilder.default_permission" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="default_permission -- Whether the command should be enabled by default (without any permissions) …" href="#hikari.impl.special_endpoints.CommandBuilder.default_permission"  >default_permission</a> : Union[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>, <a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>]</code></pre>
</dt>
<dd><p>Whether the command should be enabled by default (without any permissions).</p>
<p>Defaults to <code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code>.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]</code></dt>
<dd>Whether the command should be enabled by default (without any permissions).</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.CommandBuilder.description" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="description -- Return the description to set for this command …" href="#hikari.impl.special_endpoints.CommandBuilder.description"  >description</a> : <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></pre>
</dt>
<dd><p>Return the description to set for this command.</p>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>This should be inclusively between 1-100 characters in length.</p>
</div>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The description to set for this command.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.CommandBuilder.id" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="id -- ID of this command …" href="#hikari.impl.special_endpoints.CommandBuilder.id"  >id</a> : Union[<a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a>, <a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>]</code></pre>
</dt>
<dd><p>ID of this command.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a>]</code></dt>
<dd>The ID of this command if set.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.CommandBuilder.name" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="name -- Name to set for this command …" href="#hikari.impl.special_endpoints.CommandBuilder.name"  >name</a> : <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></pre>
</dt>
<dd><p>Name to set for this command.</p>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>This should match the regex <code>^[a-z0-9_-]{1,32}$</code>.</p>
</div>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The name to set for this command.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.CommandBuilder.options" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="options -- Sequence of up to 25 of the options set for this command …" href="#hikari.impl.special_endpoints.CommandBuilder.options"  >options</a> : Sequence[<a href='../commands.html#hikari.commands.CommandOption'>CommandOption</a>]</code></pre>
</dt>
<dd><p>Sequence of up to 25 of the options set for this command.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/typing.html#typing.Sequence'>Sequence</a>[<a href='../commands.html#hikari.commands.CommandOption'>CommandOption</a>]</code></dt>
<dd>A sequence of up to 25 of the options set for this command.</dd>
</dl></dd>
</div>
</dl>
<div class="sep"></div>
<h5>Methods</h5>
<dl>
<div id="hikari.impl.special_endpoints.CommandBuilder.add_option" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="add_option" href="#hikari.impl.special_endpoints.CommandBuilder.add_option" id="hikari.impl.special_endpoints.CommandBuilder.add_option">add_option</a>(
    self: _CommandBuilderT,
    option: <a href='../commands.html#hikari.commands.CommandOption'>commands.CommandOption</a>,
) -> _CommandBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="CommandBuilder -- Interface of a command builder used when bulk creating commands over REST." href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder"
>CommandBuilder</a></code>.<code><a title="add_option -- Add an option to this command …" href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder.add_option"
>add_option</a></code>
</p>
<p>Add an option to this command.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>A command can have up to 25 options.</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>option</code></strong> :&ensp;<code><a href='../commands.html#hikari.commands.CommandOption'>CommandOption</a></code></dt>
<dd>The option to add to this command.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.CommandBuilder'>CommandBuilder</a></code></dt>
<dd>Object of this command builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L904-L906" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def add_option(self: _CommandBuilderT, option: commands.CommandOption) -&gt; _CommandBuilderT:
    self._options.append(option)
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.CommandBuilder.build" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="build" href="#hikari.impl.special_endpoints.CommandBuilder.build" id="hikari.impl.special_endpoints.CommandBuilder.build">build</a>(
    entity_factory: <a href='../api/entity_factory.html#hikari.api.entity_factory.EntityFactory'>entity_factory_.EntityFactory</a>,
    /,
) -> <a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>data_binding.JSONObject</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="CommandBuilder -- Interface of a command builder used when bulk creating commands over REST." href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder"
>CommandBuilder</a></code>.<code><a title="build -- Build a JSON object from this builder …" href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder.build"
>build</a></code>
</p>
<p>Build a JSON object from this builder.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>entity_factory</code></strong> :&ensp;<code><a href='../api/entity_factory.html#hikari.api.entity_factory.EntityFactory'>EntityFactory</a></code></dt>
<dd>The entity factory to use to serialize entities within this builder.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>JSONObject</a></code></dt>
<dd>The built json object representation of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L916-L923" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def build(self, entity_factory: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
    data = data_binding.JSONObjectBuilder()
    data[&#34;name&#34;] = self._name
    data[&#34;description&#34;] = self._description
    data.put_array(&#34;options&#34;, self._options, conversion=entity_factory.serialize_command_option)
    data.put_snowflake(&#34;id&#34;, self._id)
    data.put(&#34;default_permission&#34;, self._default_permission)
    return data</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.CommandBuilder.set_default_permission" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_default_permission" href="#hikari.impl.special_endpoints.CommandBuilder.set_default_permission" id="hikari.impl.special_endpoints.CommandBuilder.set_default_permission">set_default_permission</a>(
    self: _CommandBuilderT,
    state: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>],
    /,
) -> _CommandBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="CommandBuilder -- Interface of a command builder used when bulk creating commands over REST." href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder"
>CommandBuilder</a></code>.<code><a title="set_default_permission -- Whether this command should be enabled by default (without any permissions) …" href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder.set_default_permission"
>set_default_permission</a></code>
</p>
<p>Whether this command should be enabled by default (without any permissions).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>state</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]</code></dt>
<dd>Whether this command should be enabled by default.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.CommandBuilder'>CommandBuilder</a></code></dt>
<dd>Object of this command builder for chained calls.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L912-L914" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_default_permission(self: _CommandBuilderT, state: undefined.UndefinedOr[bool], /) -&gt; _CommandBuilderT:
    self._default_permission = state
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.CommandBuilder.set_id" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_id" href="#hikari.impl.special_endpoints.CommandBuilder.set_id" id="hikari.impl.special_endpoints.CommandBuilder.set_id">set_id</a>(
    self: _CommandBuilderT,
    id_: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.Snowflakeish'>snowflakes.Snowflakeish</a>],
    /,
) -> _CommandBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="CommandBuilder -- Interface of a command builder used when bulk creating commands over REST." href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder"
>CommandBuilder</a></code>.<code><a title="set_id -- Set the ID of this command …" href="../api/special_endpoints.html#hikari.api.special_endpoints.CommandBuilder.set_id"
>set_id</a></code>
</p>
<p>Set the ID of this command.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>id_</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a>]</code></dt>
<dd>The ID to set for this command.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.CommandBuilder'>CommandBuilder</a></code></dt>
<dd>Object of this command builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L908-L910" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_id(self: _CommandBuilderT, id_: undefined.UndefinedOr[snowflakes.Snowflakeish], /) -&gt; _CommandBuilderT:
    self._id = snowflakes.Snowflake(id_) if id_ is not undefined.UNDEFINED else undefined.UNDEFINED
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
</dl>
<div class="sep"></div>
</dd>
</div>
<div id="hikari.impl.special_endpoints.GuildBuilder" class="anchor">
<dt>
<h4><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="#hikari.impl.special_endpoints.GuildBuilder"
>GuildBuilder</a></h4>
</dt>
<dd>
<pre><code id="hikari.impl.special_endpoints.GuildBuilder" class="hljs python"><abbr title='A standard Python type.'>class</abbr> GuildBuilder (
    *,
    entity_factory: <a href='../api/entity_factory.html#hikari.api.entity_factory.EntityFactory'>entity_factory_.EntityFactory</a>,
    executor: <a href='https://docs.python.org/3/library/typing.html#typing.Optional'>Optional</a>[<a href='https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Executor'>concurrent.futures.Executor</a>],
    name: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    request_call: <a href='https://docs.python.org/3/library/typing.html#typing.Callable'>Callable</a>[<a href='https://docs.python.org/3/glossary.html#term-1'>...</a>, <a href='https://docs.python.org/3/library/typing.html#typing.Coroutine'>Coroutine</a>[<a href='https://docs.python.org/3/library/constants.html#None'>None</a>, <a href='https://docs.python.org/3/library/constants.html#None'>None</a>, <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='https://docs.python.org/3/library/constants.html#None'>None</a>, <a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>data_binding.JSONObject</a>, <a href='../internal/data_binding.html#hikari.internal.data_binding.JSONArray'>data_binding.JSONArray</a>]]],
    default_message_notifications: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../guilds.html#hikari.guilds.GuildMessageNotificationsLevel'>guilds.GuildMessageNotificationsLevel</a>] = UNDEFINED,
    explicit_content_filter_level: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../guilds.html#hikari.guilds.GuildExplicitContentFilterLevel'>guilds.GuildExplicitContentFilterLevel</a>] = UNDEFINED,
    icon: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../files.html#hikari.files.Resourceish'>files.Resourceish</a>] = UNDEFINED,
    verification_level: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../guilds.html#hikari.guilds.GuildVerificationLevel'>guilds.GuildVerificationLevel</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>]] = UNDEFINED,
): ...</code></pre>
<p>Result type of <code><a href='../api/rest.html#hikari.api.rest.RESTClient.guild_builder'>guild_builder</a></code>.</p>
<p>This is used to create a guild in a tidy way using the HTTP API, since
the logic behind creating a guild on an API level is somewhat confusing
and detailed.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>This is a helper class that is used by <code><a href='../api/rest.html#hikari.api.rest.RESTClient'>RESTClient</a></code>.
You should only ever need to use instances of this class that are
produced by that API, thus, any details about the constructor are
omitted from the following examples for brevity.</p>
</div>
<h2 id="examples">Examples</h2>
<p>Creating an empty guild.</p>
<pre><code class="language-py">guild = await rest.guild_builder(&quot;My Server!&quot;).create()
</code></pre>
<p>Creating a guild with an icon</p>
<pre><code class="language-py">from hikari.files import WebResourceStream

guild_builder = rest.guild_builder(&quot;My Server!&quot;)
guild_builder.icon = WebResourceStream(&quot;cat.png&quot;, &quot;http://...&quot;)
guild = await guild_builder.create()
</code></pre>
<p>Adding roles to your guild.</p>
<pre><code class="language-py">from hikari.permissions import Permissions

guild_builder = rest.guild_builder(&quot;My Server!&quot;)

everyone_role_id = guild_builder.add_role(&quot;@everyone&quot;)
admin_role_id = guild_builder.add_role(&quot;Admins&quot;, permissions=Permissions.ADMINISTRATOR)

await guild_builder.create()
</code></pre>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>The first role must always be the <code>@everyone</code> role.</p>
</div>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>If you call <code>add_role</code>, the default roles provided by discord will
be created. This also applies to the <code>add_</code> functions for
text channels/voice channels/categories.</p>
</div>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>Functions that return a <code><a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a></code> do
<strong>not</strong> provide the final ID that the object will have once the
API call is made. The returned IDs are only able to be used to
re-reference particular objects while building the guild format.</p>
<p>This is provided to allow creation of channels within categories,
and to provide permission overwrites.</p>
</div>
<p>Adding a text channel to your guild.</p>
<pre><code class="language-py">guild_builder = rest.guild_builder(&quot;My Server!&quot;)

category_id = guild_builder.add_category(&quot;My safe place&quot;)
channel_id = guild_builder.add_text_channel(&quot;general&quot;, parent_id=category_id)

await guild_builder.create()
</code></pre>
<p>Method generated by attrs for class GuildBuilder.</p>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L162-L458" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class GuildBuilder(special_endpoints.GuildBuilder):
    &#34;&#34;&#34;Result type of `hikari.api.rest.RESTClient.guild_builder`.

    This is used to create a guild in a tidy way using the HTTP API, since
    the logic behind creating a guild on an API level is somewhat confusing
    and detailed.

    !!! note
        This is a helper class that is used by `hikari.api.rest.RESTClient`.
        You should only ever need to use instances of this class that are
        produced by that API, thus, any details about the constructor are
        omitted from the following examples for brevity.

    Examples
    --------
    Creating an empty guild.

    ```py
    guild = await rest.guild_builder(&#34;My Server!&#34;).create()
    ```

    Creating a guild with an icon

    ```py
    from hikari.files import WebResourceStream

    guild_builder = rest.guild_builder(&#34;My Server!&#34;)
    guild_builder.icon = WebResourceStream(&#34;cat.png&#34;, &#34;http://...&#34;)
    guild = await guild_builder.create()
    ```

    Adding roles to your guild.

    ```py
    from hikari.permissions import Permissions

    guild_builder = rest.guild_builder(&#34;My Server!&#34;)

    everyone_role_id = guild_builder.add_role(&#34;@everyone&#34;)
    admin_role_id = guild_builder.add_role(&#34;Admins&#34;, permissions=Permissions.ADMINISTRATOR)

    await guild_builder.create()
    ```

    !!! warning
        The first role must always be the `@everyone` role.

    !!! note
        If you call `add_role`, the default roles provided by discord will
        be created. This also applies to the `add_` functions for
        text channels/voice channels/categories.

    !!! note
        Functions that return a `hikari.snowflakes.Snowflake` do
        **not** provide the final ID that the object will have once the
        API call is made. The returned IDs are only able to be used to
        re-reference particular objects while building the guild format.

        This is provided to allow creation of channels within categories,
        and to provide permission overwrites.

    Adding a text channel to your guild.

    ```py
    guild_builder = rest.guild_builder(&#34;My Server!&#34;)

    category_id = guild_builder.add_category(&#34;My safe place&#34;)
    channel_id = guild_builder.add_text_channel(&#34;general&#34;, parent_id=category_id)

    await guild_builder.create()
    ```
    &#34;&#34;&#34;

    # Required arguments.
    _entity_factory: entity_factory_.EntityFactory = attr.field(metadata={attr_extensions.SKIP_DEEP_COPY: True})
    _executor: typing.Optional[concurrent.futures.Executor] = attr.field(
        metadata={attr_extensions.SKIP_DEEP_COPY: True}
    )
    _name: str = attr.field()
    _request_call: typing.Callable[
        ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
    ] = attr.field(metadata={attr_extensions.SKIP_DEEP_COPY: True})

    # Optional arguments.
    default_message_notifications: undefined.UndefinedOr[guilds.GuildMessageNotificationsLevel] = attr.field(
        default=undefined.UNDEFINED
    )
    explicit_content_filter_level: undefined.UndefinedOr[guilds.GuildExplicitContentFilterLevel] = attr.field(
        default=undefined.UNDEFINED
    )
    icon: undefined.UndefinedOr[files.Resourceish] = attr.field(default=undefined.UNDEFINED)
    verification_level: undefined.UndefinedOr[typing.Union[guilds.GuildVerificationLevel, int]] = attr.field(
        default=undefined.UNDEFINED
    )

    # Non-arguments
    _channels: typing.MutableSequence[data_binding.JSONObject] = attr.field(factory=list, init=False)
    _counter: int = attr.field(default=0, init=False)
    _roles: typing.MutableSequence[data_binding.JSONObject] = attr.field(factory=list, init=False)

    @property
    def name(self) -&gt; str:
        return self._name

    async def create(self) -&gt; guilds.RESTGuild:
        route = routes.POST_GUILDS.compile()
        payload = data_binding.JSONObjectBuilder()
        payload.put(&#34;name&#34;, self.name)
        payload.put_array(&#34;roles&#34;, self._roles if self._roles else undefined.UNDEFINED)
        payload.put_array(&#34;channels&#34;, self._channels if self._channels else undefined.UNDEFINED)
        payload.put(&#34;verification_level&#34;, self.verification_level)
        payload.put(&#34;default_message_notifications&#34;, self.default_message_notifications)
        payload.put(&#34;explicit_content_filter&#34;, self.explicit_content_filter_level)

        if self.icon is not undefined.UNDEFINED:
            icon = files.ensure_resource(self.icon)

            async with icon.stream(executor=self._executor) as stream:
                data_uri = await stream.data_uri()
                payload.put(&#34;icon&#34;, data_uri)

        response = await self._request_call(route, json=payload)
        assert isinstance(response, dict)
        return self._entity_factory.deserialize_rest_guild(response)

    def add_role(
        self,
        name: str,
        /,
        *,
        color: undefined.UndefinedOr[colors.Colorish] = undefined.UNDEFINED,
        colour: undefined.UndefinedOr[colors.Colorish] = undefined.UNDEFINED,
        hoist: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
        mentionable: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
        permissions: undefined.UndefinedOr[permissions_.Permissions] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        if not undefined.any_undefined(color, colour):
            raise TypeError(&#34;Cannot specify &#39;color&#39; and &#39;colour&#39; together.&#34;)

        if len(self._roles) == 0:
            if name != &#34;@everyone&#34;:
                raise ValueError(&#34;First role must always be the &#39;@everyone&#39; role&#34;)
            if not undefined.all_undefined(color, colour, hoist, mentionable, position):
                raise ValueError(
                    &#34;Cannot pass &#39;color&#39;, &#39;colour&#39;, &#39;hoist&#39;, &#39;mentionable&#39; nor &#39;position&#39; to the &#39;@everyone&#39; role.&#34;
                )

        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;color&#34;, color, conversion=colors.Color.of)
        payload.put(&#34;color&#34;, colour, conversion=colors.Color.of)
        payload.put(&#34;hoist&#34;, hoist)
        payload.put(&#34;mentionable&#34;, mentionable)
        payload.put(&#34;permissions&#34;, permissions)
        payload.put(&#34;position&#34;, position)
        self._roles.append(payload)
        return snowflake_id

    def add_category(
        self,
        name: str,
        /,
        *,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        nsfw: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_CATEGORY)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;nsfw&#34;, nsfw)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def add_text_channel(
        self,
        name: str,
        /,
        *,
        parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
        topic: undefined.UndefinedOr[str] = undefined.UNDEFINED,
        rate_limit_per_user: undefined.UndefinedOr[time.Intervalish] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        nsfw: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_TEXT)
        payload.put(&#34;topic&#34;, topic)
        payload.put(&#34;rate_limit_per_user&#34;, rate_limit_per_user, conversion=time.timespan_to_int)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;nsfw&#34;, nsfw)
        payload.put_snowflake(&#34;parent_id&#34;, parent_id)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def add_voice_channel(
        self,
        name: str,
        /,
        *,
        parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
        bitrate: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        video_quality_mode: undefined.UndefinedOr[typing.Union[channels.VideoQualityMode, int]] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        region: undefined.UndefinedNoneOr[typing.Union[voices.VoiceRegion, str]],
        user_limit: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_VOICE)
        payload.put(&#34;video_quality_mode&#34;, video_quality_mode)
        payload.put(&#34;bitrate&#34;, bitrate)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;user_limit&#34;, user_limit)
        payload.put_snowflake(&#34;parent_id&#34;, parent_id)
        payload.put(&#34;rtc_region&#34;, region, conversion=str)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def add_stage_channel(
        self,
        name: str,
        /,
        *,
        parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
        bitrate: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
        permission_overwrites: undefined.UndefinedOr[
            typing.Collection[channels.PermissionOverwrite]
        ] = undefined.UNDEFINED,
        region: undefined.UndefinedNoneOr[typing.Union[voices.VoiceRegion, str]],
        user_limit: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    ) -&gt; snowflakes.Snowflake:
        snowflake_id = self._new_snowflake()
        payload = data_binding.JSONObjectBuilder()
        payload.put_snowflake(&#34;id&#34;, snowflake_id)
        payload.put(&#34;name&#34;, name)
        payload.put(&#34;type&#34;, channels.ChannelType.GUILD_STAGE)
        payload.put(&#34;bitrate&#34;, bitrate)
        payload.put(&#34;position&#34;, position)
        payload.put(&#34;user_limit&#34;, user_limit)
        payload.put_snowflake(&#34;parent_id&#34;, parent_id)
        payload.put(&#34;rtc_region&#34;, region, conversion=str)

        payload.put_array(
            &#34;permission_overwrites&#34;,
            permission_overwrites,
            conversion=self._entity_factory.serialize_permission_overwrite,
        )

        self._channels.append(payload)
        return snowflake_id

    def _new_snowflake(self) -&gt; snowflakes.Snowflake:
        value = self._counter
        self._counter += 1
        return snowflakes.Snowflake.from_data(time.utc_datetime(), 0, 0, value)</code></pre>
</details>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="#hikari.impl.special_endpoints.GuildBuilder"
>GuildBuilder</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class which may have abstract methods and abstract properties.'>abstract</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder"
>GuildBuilder</a></dt>
<dd class="nested"><p>Result type of <code><a href='../api/rest.html#hikari.api.rest.RESTClient.guild_builder'>guild_builder</a></code> …</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="abc.ABC -- Helper class that provides a standard way to create an ABC using
inheritance." href="https://docs.python.org/3/library/abc.html#abc.ABC"
>abc.ABC</a></dt>
<dd class="nested"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></dd>
</dl>
<div class="sep"></div>
<h5>Variables and properties</h5>
<dl>
<div id="hikari.impl.special_endpoints.GuildBuilder.default_message_notifications" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="default_message_notifications -- Default message notification level that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.default_message_notifications"  >default_message_notifications</a> : <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../guilds.html#hikari.guilds.GuildMessageNotificationsLevel'>guilds.GuildMessageNotificationsLevel</a>]</code></pre>
</dt>
<dd><p>Default message notification level that can be overwritten.</p>
<p>If not overridden, this will use the Discord default level.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../guilds.html#hikari.guilds.GuildMessageNotificationsLevel'>GuildMessageNotificationsLevel</a>]</code></dt>
<dd>The default message notification level, if overwritten.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.GuildBuilder.explicit_content_filter_level" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="explicit_content_filter_level -- Explicit content filter level that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.explicit_content_filter_level"  >explicit_content_filter_level</a> : <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../guilds.html#hikari.guilds.GuildExplicitContentFilterLevel'>guilds.GuildExplicitContentFilterLevel</a>]</code></pre>
</dt>
<dd><p>Explicit content filter level that can be overwritten.</p>
<p>If not overridden, this will use the Discord default level.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../guilds.html#hikari.guilds.GuildExplicitContentFilterLevel'>GuildExplicitContentFilterLevel</a>]</code></dt>
<dd>The explicit content filter level, if overwritten.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.GuildBuilder.icon" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="icon -- Guild icon to use that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.icon"  >icon</a> : <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../files.html#hikari.files.Resourceish'>files.Resourceish</a>]</code></pre>
</dt>
<dd><p>Guild icon to use that can be overwritten.</p>
<p>If not overridden, the guild will not have an icon.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../files.html#hikari.files.Resourceish'>Resourceish</a>]</code></dt>
<dd>The guild icon to use, if overwritten.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.GuildBuilder.name" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="name -- Name of the guild to create …" href="#hikari.impl.special_endpoints.GuildBuilder.name"  >name</a> : <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></pre>
</dt>
<dd><p>Name of the guild to create.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The guild name.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.GuildBuilder.verification_level" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="verification_level -- Verification level required to join the guild that can be overwritten …" href="#hikari.impl.special_endpoints.GuildBuilder.verification_level"  >verification_level</a> : <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../guilds.html#hikari.guilds.GuildVerificationLevel'>guilds.GuildVerificationLevel</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>]]</code></pre>
</dt>
<dd><p>Verification level required to join the guild that can be overwritten.</p>
<p>If not overridden, the guild will use the default verification level for</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../guilds.html#hikari.guilds.GuildVerificationLevel'>GuildVerificationLevel</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>]]</code></dt>
<dd>The verification level required to join the guild, if overwritten.</dd>
</dl></dd>
</div>
</dl>
<div class="sep"></div>
<h5>Methods</h5>
<dl>
<div id="hikari.impl.special_endpoints.GuildBuilder.add_category" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="add_category" href="#hikari.impl.special_endpoints.GuildBuilder.add_category" id="hikari.impl.special_endpoints.GuildBuilder.add_category">add_category</a>(
    name: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    /,
    *,
    position: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
    permission_overwrites: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Collection'>Collection</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>channels.PermissionOverwrite</a>]] = UNDEFINED,
    nsfw: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
) -> <a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder"
>GuildBuilder</a></code>.<code><a title="add_category -- Create a category channel …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder.add_category"
>add_category</a></code>
</p>
<p>Create a category channel.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The channels name. Must be between 2 and 1000 characters.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>position</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the position of the category.</dd>
<dt><strong><code>permission_overwrites</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Sequence'>Sequence</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>PermissionOverwrite</a>]]</code></dt>
<dd>If provided, the permission overwrites for the category.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a></code></dt>
<dd>
<p>The dummy ID for this channel that can be used temporarily to refer
to this object while designing the guild layout.</p>
<p>When the guild is created, this will be replaced with a different
ID.</p>
</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L323-L349" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def add_category(
    self,
    name: str,
    /,
    *,
    position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    permission_overwrites: undefined.UndefinedOr[
        typing.Collection[channels.PermissionOverwrite]
    ] = undefined.UNDEFINED,
    nsfw: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
) -&gt; snowflakes.Snowflake:
    snowflake_id = self._new_snowflake()
    payload = data_binding.JSONObjectBuilder()
    payload.put_snowflake(&#34;id&#34;, snowflake_id)
    payload.put(&#34;name&#34;, name)
    payload.put(&#34;type&#34;, channels.ChannelType.GUILD_CATEGORY)
    payload.put(&#34;position&#34;, position)
    payload.put(&#34;nsfw&#34;, nsfw)

    payload.put_array(
        &#34;permission_overwrites&#34;,
        permission_overwrites,
        conversion=self._entity_factory.serialize_permission_overwrite,
    )

    self._channels.append(payload)
    return snowflake_id</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.GuildBuilder.add_role" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="add_role" href="#hikari.impl.special_endpoints.GuildBuilder.add_role" id="hikari.impl.special_endpoints.GuildBuilder.add_role">add_role</a>(
    name: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    /,
    *,
    color: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../colors.html#hikari.colors.Colorish'>colors.Colorish</a>] = UNDEFINED,
    colour: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../colors.html#hikari.colors.Colorish'>colors.Colorish</a>] = UNDEFINED,
    hoist: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
    mentionable: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
    permissions: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../permissions.html#hikari.permissions.Permissions'>permissions_.Permissions</a>] = UNDEFINED,
    position: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
) -> <a href='../snowflakes.html#hikari.snowflakes.Snowflake'>snowflakes.Snowflake</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder"
>GuildBuilder</a></code>.<code><a title="add_role -- Create a role …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder.add_role"
>add_role</a></code>
</p>
<p>Create a role.</p>
<div class="alert alert-warning">
<p class="admonition-title">Warning</p>
<p>The first role you create must always be the <code>@everyone</code> role.</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The role's name.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>permissions</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../permissions.html#hikari.permissions.Permissions'>Permissions</a>]</code></dt>
<dd>If provided, the permissions for the role.</dd>
<dt><strong><code>color</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../colors.html#hikari.colors.Colorish'>Colorish</a>]</code></dt>
<dd>If provided, the role's color.</dd>
<dt><strong><code>colour</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../colors.html#hikari.colors.Colorish'>Colorish</a>]</code></dt>
<dd>An alias for <code>color</code>.</dd>
<dt><strong><code>hoist</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]</code></dt>
<dd>If provided, whether to hoist the role.</dd>
<dt><strong><code>mentionable</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]</code></dt>
<dd>If provided, whether to make the role mentionable.</dd>
<dt><strong><code>reason</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]</code></dt>
<dd>If provided, the reason that will be recorded in the audit logs.
Maximum of 512 characters.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a></code></dt>
<dd>
<p>The dummy ID for this role that can be used temporarily to refer
to this object while designing the guild layout.</p>
<p>When the guild is created, this will be replaced with a different
ID.</p>
</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/exceptions.html#ValueError'>ValueError</a></code></dt>
<dd>If you are defining the first role, but did not name it <code>@everyone</code>.</dd>
<dt><code><a href='https://docs.python.org/3/library/exceptions.html#TypeError'>TypeError</a></code></dt>
<dd>If you specify both <code>color</code> and <code>colour</code> together or if you try to
specify <code>color</code>, <code>colour</code>, <code>hoisted</code>, <code>mentionable</code> or <code>position</code> for
the <code>@everyone</code> role.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L287-L321" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def add_role(
    self,
    name: str,
    /,
    *,
    color: undefined.UndefinedOr[colors.Colorish] = undefined.UNDEFINED,
    colour: undefined.UndefinedOr[colors.Colorish] = undefined.UNDEFINED,
    hoist: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
    mentionable: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
    permissions: undefined.UndefinedOr[permissions_.Permissions] = undefined.UNDEFINED,
    position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
) -&gt; snowflakes.Snowflake:
    if not undefined.any_undefined(color, colour):
        raise TypeError(&#34;Cannot specify &#39;color&#39; and &#39;colour&#39; together.&#34;)

    if len(self._roles) == 0:
        if name != &#34;@everyone&#34;:
            raise ValueError(&#34;First role must always be the &#39;@everyone&#39; role&#34;)
        if not undefined.all_undefined(color, colour, hoist, mentionable, position):
            raise ValueError(
                &#34;Cannot pass &#39;color&#39;, &#39;colour&#39;, &#39;hoist&#39;, &#39;mentionable&#39; nor &#39;position&#39; to the &#39;@everyone&#39; role.&#34;
            )

    snowflake_id = self._new_snowflake()
    payload = data_binding.JSONObjectBuilder()
    payload.put_snowflake(&#34;id&#34;, snowflake_id)
    payload.put(&#34;name&#34;, name)
    payload.put(&#34;color&#34;, color, conversion=colors.Color.of)
    payload.put(&#34;color&#34;, colour, conversion=colors.Color.of)
    payload.put(&#34;hoist&#34;, hoist)
    payload.put(&#34;mentionable&#34;, mentionable)
    payload.put(&#34;permissions&#34;, permissions)
    payload.put(&#34;position&#34;, position)
    self._roles.append(payload)
    return snowflake_id</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.GuildBuilder.add_stage_channel" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="add_stage_channel" href="#hikari.impl.special_endpoints.GuildBuilder.add_stage_channel" id="hikari.impl.special_endpoints.GuildBuilder.add_stage_channel">add_stage_channel</a>(
    name: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    /,
    *,
    parent_id: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.Snowflake'>snowflakes.Snowflake</a>] = UNDEFINED,
    bitrate: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
    position: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
    permission_overwrites: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Collection'>Collection</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>channels.PermissionOverwrite</a>]] = UNDEFINED,
    region: <a href='../undefined.html#hikari.undefined.UndefinedNoneOr'>undefined.UndefinedNoneOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../voices.html#hikari.voices.VoiceRegion'>voices.VoiceRegion</a>, <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]],
    user_limit: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
) -> <a href='../snowflakes.html#hikari.snowflakes.Snowflake'>snowflakes.Snowflake</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder"
>GuildBuilder</a></code>.<code><a title="add_stage_channel -- Create a stage channel …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder.add_stage_channel"
>add_stage_channel</a></code>
</p>
<p>Create a stage channel.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The channels name. Must be between 2 and 1000 characters.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>position</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the position of the channel (relative to the
category, if any).</dd>
<dt><strong><code>user_limit</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the maximum users in the channel at once.
Must be between 0 and 99 with 0 meaning no limit.</dd>
<dt><strong><code>bitrate</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the bitrate for the channel. Must be
between 8000 and 96000 or 8000 and 128000 for VIP
servers.</dd>
<dt><strong><code>permission_overwrites</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Sequence'>Sequence</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>PermissionOverwrite</a>]]</code></dt>
<dd>If provided, the permission overwrites for the channel.</dd>
<dt><strong><code>region</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../voices.html#hikari.voices.VoiceRegion'>VoiceRegion</a>, <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]]</code></dt>
<dd>If provided, the voice region to for this channel. Passing
<code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code> here will set it to "auto" mode where the used
region will be decided based on the first person who connects to it
when it's empty.</dd>
<dt><strong><code>category</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishOr'>SnowflakeishOr</a>[<a href='../channels.html#hikari.channels.GuildCategory'>GuildCategory</a>]]</code></dt>
<dd>The category to create the channel under. This may be the
object or the ID of an existing category.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a></code></dt>
<dd>
<p>The dummy ID for this channel that can be used temporarily to refer
to this object while designing the guild layout.</p>
<p>When the guild is created, this will be replaced with a different
ID.</p>
</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L421-L453" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def add_stage_channel(
    self,
    name: str,
    /,
    *,
    parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
    bitrate: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    permission_overwrites: undefined.UndefinedOr[
        typing.Collection[channels.PermissionOverwrite]
    ] = undefined.UNDEFINED,
    region: undefined.UndefinedNoneOr[typing.Union[voices.VoiceRegion, str]],
    user_limit: undefined.UndefinedOr[int] = undefined.UNDEFINED,
) -&gt; snowflakes.Snowflake:
    snowflake_id = self._new_snowflake()
    payload = data_binding.JSONObjectBuilder()
    payload.put_snowflake(&#34;id&#34;, snowflake_id)
    payload.put(&#34;name&#34;, name)
    payload.put(&#34;type&#34;, channels.ChannelType.GUILD_STAGE)
    payload.put(&#34;bitrate&#34;, bitrate)
    payload.put(&#34;position&#34;, position)
    payload.put(&#34;user_limit&#34;, user_limit)
    payload.put_snowflake(&#34;parent_id&#34;, parent_id)
    payload.put(&#34;rtc_region&#34;, region, conversion=str)

    payload.put_array(
        &#34;permission_overwrites&#34;,
        permission_overwrites,
        conversion=self._entity_factory.serialize_permission_overwrite,
    )

    self._channels.append(payload)
    return snowflake_id</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.GuildBuilder.add_text_channel" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="add_text_channel" href="#hikari.impl.special_endpoints.GuildBuilder.add_text_channel" id="hikari.impl.special_endpoints.GuildBuilder.add_text_channel">add_text_channel</a>(
    name: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    /,
    *,
    parent_id: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.Snowflake'>snowflakes.Snowflake</a>] = UNDEFINED,
    topic: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>] = UNDEFINED,
    rate_limit_per_user: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../internal/time.html#hikari.internal.time.Intervalish'>time.Intervalish</a>] = UNDEFINED,
    position: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
    permission_overwrites: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Collection'>Collection</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>channels.PermissionOverwrite</a>]] = UNDEFINED,
    nsfw: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
) -> <a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder"
>GuildBuilder</a></code>.<code><a title="add_text_channel -- Create a text channel …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder.add_text_channel"
>add_text_channel</a></code>
</p>
<p>Create a text channel.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The channels name. Must be between 2 and 1000 characters.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>position</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the position of the channel (relative to the
category, if any).</dd>
<dt><strong><code>topic</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]</code></dt>
<dd>If provided, the channels topic. Maximum 1024 characters.</dd>
<dt><strong><code>nsfw</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]</code></dt>
<dd>If provided, whether to mark the channel as NSFW.</dd>
<dt><strong><code>rate_limit_per_user</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the amount of seconds a user has to wait
before being able to send another message in the channel.
Maximum 21600 seconds.</dd>
<dt><strong><code>permission_overwrites</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Sequence'>Sequence</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>PermissionOverwrite</a>]]</code></dt>
<dd>If provided, the permission overwrites for the channel.</dd>
<dt><strong><code>category</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishOr'>SnowflakeishOr</a>[<a href='../channels.html#hikari.channels.GuildCategory'>GuildCategory</a>]]</code></dt>
<dd>The category to create the channel under. This may be the
object or the ID of an existing category.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a></code></dt>
<dd>
<p>The dummy ID for this channel that can be used temporarily to refer
to this object while designing the guild layout.</p>
<p>When the guild is created, this will be replaced with a different
ID.</p>
</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L351-L383" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def add_text_channel(
    self,
    name: str,
    /,
    *,
    parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
    topic: undefined.UndefinedOr[str] = undefined.UNDEFINED,
    rate_limit_per_user: undefined.UndefinedOr[time.Intervalish] = undefined.UNDEFINED,
    position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    permission_overwrites: undefined.UndefinedOr[
        typing.Collection[channels.PermissionOverwrite]
    ] = undefined.UNDEFINED,
    nsfw: undefined.UndefinedOr[bool] = undefined.UNDEFINED,
) -&gt; snowflakes.Snowflake:
    snowflake_id = self._new_snowflake()
    payload = data_binding.JSONObjectBuilder()
    payload.put_snowflake(&#34;id&#34;, snowflake_id)
    payload.put(&#34;name&#34;, name)
    payload.put(&#34;type&#34;, channels.ChannelType.GUILD_TEXT)
    payload.put(&#34;topic&#34;, topic)
    payload.put(&#34;rate_limit_per_user&#34;, rate_limit_per_user, conversion=time.timespan_to_int)
    payload.put(&#34;position&#34;, position)
    payload.put(&#34;nsfw&#34;, nsfw)
    payload.put_snowflake(&#34;parent_id&#34;, parent_id)

    payload.put_array(
        &#34;permission_overwrites&#34;,
        permission_overwrites,
        conversion=self._entity_factory.serialize_permission_overwrite,
    )

    self._channels.append(payload)
    return snowflake_id</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.GuildBuilder.add_voice_channel" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="add_voice_channel" href="#hikari.impl.special_endpoints.GuildBuilder.add_voice_channel" id="hikari.impl.special_endpoints.GuildBuilder.add_voice_channel">add_voice_channel</a>(
    name: <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>,
    /,
    *,
    parent_id: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.Snowflake'>snowflakes.Snowflake</a>] = UNDEFINED,
    bitrate: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
    video_quality_mode: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../channels.html#hikari.channels.VideoQualityMode'>channels.VideoQualityMode</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>]] = UNDEFINED,
    position: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
    permission_overwrites: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Collection'>Collection</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>channels.PermissionOverwrite</a>]] = UNDEFINED,
    region: <a href='../undefined.html#hikari.undefined.UndefinedNoneOr'>undefined.UndefinedNoneOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../voices.html#hikari.voices.VoiceRegion'>voices.VoiceRegion</a>, <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]],
    user_limit: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>] = UNDEFINED,
) -> <a href='../snowflakes.html#hikari.snowflakes.Snowflake'>snowflakes.Snowflake</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder"
>GuildBuilder</a></code>.<code><a title="add_voice_channel -- Create a voice channel …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder.add_voice_channel"
>add_voice_channel</a></code>
</p>
<p>Create a voice channel.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a></code></dt>
<dd>The channels name. Must be between 2 and 1000 characters.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>position</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the position of the channel (relative to the
category, if any).</dd>
<dt><strong><code>user_limit</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the maximum users in the channel at once.
Must be between 0 and 99 with 0 meaning no limit.</dd>
<dt><strong><code>bitrate</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>]</code></dt>
<dd>If provided, the bitrate for the channel. Must be
between 8000 and 96000 or 8000 and 128000 for VIP
servers.</dd>
<dt><strong><code>video_quality_mode</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../channels.html#hikari.channels.VideoQualityMode'>VideoQualityMode</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>]]</code></dt>
<dd>If provided, the new video quality mode for the channel.</dd>
<dt><strong><code>permission_overwrites</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Sequence'>Sequence</a>[<a href='../channels.html#hikari.channels.PermissionOverwrite'>PermissionOverwrite</a>]]</code></dt>
<dd>If provided, the permission overwrites for the channel.</dd>
<dt><strong><code>region</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../voices.html#hikari.voices.VoiceRegion'>VoiceRegion</a>, <a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]]</code></dt>
<dd>If provided, the voice region to for this channel. Passing
<code><a href='https://docs.python.org/3/library/constants.html#None'>None</a></code> here will set it to "auto" mode where the used
region will be decided based on the first person who connects to it
when it's empty.</dd>
<dt><strong><code>category</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishOr'>SnowflakeishOr</a>[<a href='../channels.html#hikari.channels.GuildCategory'>GuildCategory</a>]]</code></dt>
<dd>The category to create the channel under. This may be the
object or the ID of an existing category.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../snowflakes.html#hikari.snowflakes.Snowflake'>Snowflake</a></code></dt>
<dd>
<p>The dummy ID for this channel that can be used temporarily to refer
to this object while designing the guild layout.</p>
<p>When the guild is created, this will be replaced with a different
ID.</p>
</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L385-L419" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def add_voice_channel(
    self,
    name: str,
    /,
    *,
    parent_id: undefined.UndefinedOr[snowflakes.Snowflake] = undefined.UNDEFINED,
    bitrate: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    video_quality_mode: undefined.UndefinedOr[typing.Union[channels.VideoQualityMode, int]] = undefined.UNDEFINED,
    position: undefined.UndefinedOr[int] = undefined.UNDEFINED,
    permission_overwrites: undefined.UndefinedOr[
        typing.Collection[channels.PermissionOverwrite]
    ] = undefined.UNDEFINED,
    region: undefined.UndefinedNoneOr[typing.Union[voices.VoiceRegion, str]],
    user_limit: undefined.UndefinedOr[int] = undefined.UNDEFINED,
) -&gt; snowflakes.Snowflake:
    snowflake_id = self._new_snowflake()
    payload = data_binding.JSONObjectBuilder()
    payload.put_snowflake(&#34;id&#34;, snowflake_id)
    payload.put(&#34;name&#34;, name)
    payload.put(&#34;type&#34;, channels.ChannelType.GUILD_VOICE)
    payload.put(&#34;video_quality_mode&#34;, video_quality_mode)
    payload.put(&#34;bitrate&#34;, bitrate)
    payload.put(&#34;position&#34;, position)
    payload.put(&#34;user_limit&#34;, user_limit)
    payload.put_snowflake(&#34;parent_id&#34;, parent_id)
    payload.put(&#34;rtc_region&#34;, region, conversion=str)

    payload.put_array(
        &#34;permission_overwrites&#34;,
        permission_overwrites,
        conversion=self._entity_factory.serialize_permission_overwrite,
    )

    self._channels.append(payload)
    return snowflake_id</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.GuildBuilder.create" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A function that returns a coroutine and must be awaited.'>async def</abbr> <a title="create" href="#hikari.impl.special_endpoints.GuildBuilder.create" id="hikari.impl.special_endpoints.GuildBuilder.create">create</a>() -> <a href='../guilds.html#hikari.guilds.RESTGuild'>guilds.RESTGuild</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="GuildBuilder -- Result type of `hikari.api.rest.RESTClient.guild_builder` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder"
>GuildBuilder</a></code>.<code><a title="create -- Send the request to Discord to create the guild …" href="../api/special_endpoints.html#hikari.api.special_endpoints.GuildBuilder.create"
>create</a></code>
</p>
<p>Send the request to Discord to create the guild.</p>
<p>The application user will be added to this guild as soon as it is
created. All IDs that were provided when building this guild will
become invalid and will be replaced with real IDs.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../guilds.html#hikari.guilds.RESTGuild'>RESTGuild</a></code></dt>
<dd>The created guild.</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code><a href='../errors.html#hikari.errors.BadRequestError'>BadRequestError</a></code></dt>
<dd>If any values set in the guild builder are invalid.</dd>
<dt><code><a href='../errors.html#hikari.errors.UnauthorizedError'>UnauthorizedError</a></code></dt>
<dd>If you are unauthorized to make the request (invalid/missing token).</dd>
<dt><code><a href='../errors.html#hikari.errors.ForbiddenError'>ForbiddenError</a></code></dt>
<dd>If you are already in 10 guilds.</dd>
<dt><code><a href='../errors.html#hikari.errors.InternalServerError'>InternalServerError</a></code></dt>
<dd>If an internal error occurs on Discord while handling the request.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L266-L285" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">async def create(self) -&gt; guilds.RESTGuild:
    route = routes.POST_GUILDS.compile()
    payload = data_binding.JSONObjectBuilder()
    payload.put(&#34;name&#34;, self.name)
    payload.put_array(&#34;roles&#34;, self._roles if self._roles else undefined.UNDEFINED)
    payload.put_array(&#34;channels&#34;, self._channels if self._channels else undefined.UNDEFINED)
    payload.put(&#34;verification_level&#34;, self.verification_level)
    payload.put(&#34;default_message_notifications&#34;, self.default_message_notifications)
    payload.put(&#34;explicit_content_filter&#34;, self.explicit_content_filter_level)

    if self.icon is not undefined.UNDEFINED:
        icon = files.ensure_resource(self.icon)

        async with icon.stream(executor=self._executor) as stream:
            data_uri = await stream.data_uri()
            payload.put(&#34;icon&#34;, data_uri)

    response = await self._request_call(route, json=payload)
    assert isinstance(response, dict)
    return self._entity_factory.deserialize_rest_guild(response)</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
</dl>
<div class="sep"></div>
</dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionDeferredBuilder" class="anchor">
<dt>
<h4><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="InteractionDeferredBuilder -- Standard implementation of `hikari.api.special_endpoints.InteractionDeferredBuilder` …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder"
>InteractionDeferredBuilder</a></h4>
</dt>
<dd>
<pre><code id="hikari.impl.special_endpoints.InteractionDeferredBuilder" class="hljs python"><abbr title='A standard Python type.'>class</abbr> InteractionDeferredBuilder (
    type: <a href='https://docs.python.org/3/library/typing.html#typing.Any'>Any</a>,
    *,
    flags: <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>undefined.UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>messages.MessageFlag</a>] = UNDEFINED,
): ...</code></pre>
<p>Standard implementation of <code><a href='../api/special_endpoints.html#hikari.api.special_endpoints.InteractionDeferredBuilder'>InteractionDeferredBuilder</a></code>.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>type</code></strong> :&ensp;<code><a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.DeferredResponseTypesT'>DeferredResponseTypesT</a></code></dt>
<dd>The type of interaction response this is.</dd>
</dl>
<p>Method generated by attrs for class InteractionDeferredBuilder.</p>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L680-L717" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class InteractionDeferredBuilder(special_endpoints.InteractionDeferredBuilder):
    &#34;&#34;&#34;Standard implementation of `hikari.api.special_endpoints.InteractionDeferredBuilder`.

    Parameters
    ----------
    type : hikari.interactions.base_interactions.DeferredResponseTypesT
        The type of interaction response this is.
    &#34;&#34;&#34;

    # Required arguments.
    _type: base_interactions.DeferredResponseTypesT = attr.field(
        converter=base_interactions.ResponseType,
        validator=attr.validators.in_(base_interactions.DEFERRED_RESPONSE_TYPES),
    )

    _flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag] = attr.field(
        default=undefined.UNDEFINED, kw_only=True
    )

    @property
    def type(self) -&gt; base_interactions.DeferredResponseTypesT:
        return self._type

    @property
    def flags(self) -&gt; typing.Union[undefined.UndefinedType, int, messages.MessageFlag]:
        return self._flags

    def set_flags(
        self: _InteractionDeferredBuilderT, flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag], /
    ) -&gt; _InteractionDeferredBuilderT:
        self._flags = flags
        return self

    def build(self, _: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
        if self._flags is not undefined.UNDEFINED:
            return {&#34;type&#34;: self._type, &#34;data&#34;: {&#34;flags&#34;: self._flags}}

        return {&#34;type&#34;: self._type}</code></pre>
</details>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="InteractionDeferredBuilder -- Standard implementation of `hikari.api.special_endpoints.InteractionDeferredBuilder` …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder"
>InteractionDeferredBuilder</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class that has EMPTY slots, and only methods/properties. Can safely be used in multiple inheritance without side effects.'>abstract trait</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionDeferredBuilder -- Interface of a deferred message interaction response builder." href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionDeferredBuilder"
>InteractionDeferredBuilder</a></dt>
<dd class="nested"><p>Interface of a deferred message interaction response builder.</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class that has EMPTY slots, and only methods/properties. Can safely be used in multiple inheritance without side effects.'>abstract trait</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionResponseBuilder -- Base class for all interaction response builders used in the interaction server." href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder"
>InteractionResponseBuilder</a></dt>
<dd class="nested"><p>Base class for all interaction response builders used in the interaction server.</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="abc.ABC -- Helper class that provides a standard way to create an ABC using
inheritance." href="https://docs.python.org/3/library/abc.html#abc.ABC"
>abc.ABC</a></dt>
<dd class="nested"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></dd>
</dl>
<div class="sep"></div>
<h5>Variables and properties</h5>
<dl>
<div id="hikari.impl.special_endpoints.InteractionDeferredBuilder.flags" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="flags -- Message flags this response should have …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.flags"  >flags</a> : <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>undefined.UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>messages.MessageFlag</a>]</code></pre>
</dt>
<dd><p>Message flags this response should have.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>As of writing the only message flag which can be set here is
<code><a href='../messages.html#hikari.messages.MessageFlag.EPHEMERAL'>EPHEMERAL</a></code>.</p>
</div>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>MessageFlag</a>]</code></dt>
<dd>The message flags this response should have if set else
<code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code>.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionDeferredBuilder.type" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="type -- Return the type of this response …" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.type"  >type</a> : Literal[<ResponseType.DEFERRED_MESSAGE_CREATE: 5>]</code></pre>
</dt>
<dd><p>Return the type of this response.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.DeferredResponseTypesT'>DeferredResponseTypesT</a></code></dt>
<dd>The type of response this is.</dd>
</dl></dd>
</div>
</dl>
<div class="sep"></div>
<h5>Methods</h5>
<dl>
<div id="hikari.impl.special_endpoints.InteractionDeferredBuilder.build" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="build" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.build" id="hikari.impl.special_endpoints.InteractionDeferredBuilder.build">build</a>(
    _: <a href='../api/entity_factory.html#hikari.api.entity_factory.EntityFactory'>entity_factory_.EntityFactory</a>,
    /,
) -> <a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>data_binding.JSONObject</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionDeferredBuilder -- Interface of a deferred message interaction response builder." href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionDeferredBuilder"
>InteractionDeferredBuilder</a></code>.<code><a title="build -- Build a JSON object from this builder …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder.build"
>build</a></code>
</p>
<p>Build a JSON object from this builder.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>entity_factory</code></strong> :&ensp;<code><a href='../api/entity_factory.html#hikari.api.entity_factory.EntityFactory'>EntityFactory</a></code></dt>
<dd>The entity factory to use to serialize entities within this builder.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>JSONObject</a></code></dt>
<dd>The built json object representation of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L713-L717" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def build(self, _: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
    if self._flags is not undefined.UNDEFINED:
        return {&#34;type&#34;: self._type, &#34;data&#34;: {&#34;flags&#34;: self._flags}}

    return {&#34;type&#34;: self._type}</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionDeferredBuilder.set_flags" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_flags" href="#hikari.impl.special_endpoints.InteractionDeferredBuilder.set_flags" id="hikari.impl.special_endpoints.InteractionDeferredBuilder.set_flags">set_flags</a>(
    self: _InteractionDeferredBuilderT,
    flags: <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>undefined.UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>messages.MessageFlag</a>],
    /,
) -> _InteractionDeferredBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionDeferredBuilder -- Interface of a deferred message interaction response builder." href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionDeferredBuilder"
>InteractionDeferredBuilder</a></code>.<code><a title="set_flags -- Set message flags for this response …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionDeferredBuilder.set_flags"
>set_flags</a></code>
</p>
<p>Set message flags for this response.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>As of writing, the only message flag which can be set is EPHEMERAL.</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>flags</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>MessageFlag</a>]</code></dt>
<dd>The message flags to set for this response.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L707-L711" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_flags(
    self: _InteractionDeferredBuilderT, flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag], /
) -&gt; _InteractionDeferredBuilderT:
    self._flags = flags
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
</dl>
<div class="sep"></div>
</dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder" class="anchor">
<dt>
<h4><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="InteractionMessageBuilder -- Standard implementation of `hikari.api.special_endpoints.InteractionMessageBuilder` …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></h4>
</dt>
<dd>
<pre><code id="hikari.impl.special_endpoints.InteractionMessageBuilder" class="hljs python"><abbr title='A standard Python type.'>class</abbr> InteractionMessageBuilder (
    type: <a href='https://docs.python.org/3/library/typing.html#typing.Any'>Any</a>,
    content: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>] = UNDEFINED,
    *,
    flags: <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>messages.MessageFlag</a>, <a href='../undefined.html#hikari.undefined.UndefinedType'>undefined.UndefinedType</a>] = UNDEFINED,
    is_tts: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
    mentions_everyone: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
    role_mentions: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>snowflakes.SnowflakeishSequence</a>[<a href='../guilds.html#hikari.guilds.PartialRole'>guilds.PartialRole</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]] = UNDEFINED,
    user_mentions: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>snowflakes.SnowflakeishSequence</a>[<a href='../users.html#hikari.users.PartialUser'>users.PartialUser</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]] = UNDEFINED,
): ...</code></pre>
<p>Standard implementation of <code><a href='../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code>.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>type</code></strong> :&ensp;<code><a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.MessageResponseTypesT'>MessageResponseTypesT</a></code></dt>
<dd>The type of interaction response this is.</dd>
</dl>
<h2 id="other-parameters">Other Parameters</h2>
<dl>
<dt><strong><code>content</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]</code></dt>
<dd>The content of this response, if supplied. This follows the same rules
as "content" on create message.</dd>
</dl>
<p>Method generated by attrs for class InteractionMessageBuilder.</p>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L722-L865" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class InteractionMessageBuilder(special_endpoints.InteractionMessageBuilder):
    &#34;&#34;&#34;Standard implementation of `hikari.api.special_endpoints.InteractionMessageBuilder`.

    Parameters
    ----------
    type : hikari.interactions.base_interactions.MessageResponseTypesT
        The type of interaction response this is.

    Other Parameters
    ----------------
    content : hikari.undefined.UndefinedOr[builtins.str]
        The content of this response, if supplied. This follows the same rules
        as &#34;content&#34; on create message.
    &#34;&#34;&#34;

    # Required arguments.
    _type: base_interactions.MessageResponseTypesT = attr.field(
        converter=base_interactions.ResponseType,
        validator=attr.validators.in_(base_interactions.MESSAGE_RESPONSE_TYPES),
    )

    # Not-required arguments.
    _content: undefined.UndefinedOr[str] = attr.field(default=undefined.UNDEFINED)

    # Key-word only not-required arguments.
    _flags: typing.Union[int, messages.MessageFlag, undefined.UndefinedType] = attr.field(
        default=undefined.UNDEFINED, kw_only=True
    )
    _is_tts: undefined.UndefinedOr[bool] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _mentions_everyone: undefined.UndefinedOr[bool] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _role_mentions: undefined.UndefinedOr[
        typing.Union[snowflakes.SnowflakeishSequence[guilds.PartialRole], bool]
    ] = attr.field(default=undefined.UNDEFINED, kw_only=True)
    _user_mentions: undefined.UndefinedOr[
        typing.Union[snowflakes.SnowflakeishSequence[users.PartialUser], bool]
    ] = attr.field(default=undefined.UNDEFINED, kw_only=True)

    # Non-arguments.
    _embeds: typing.List[embeds_.Embed] = attr.field(factory=list, init=False)

    @property
    def content(self) -&gt; undefined.UndefinedOr[str]:
        return self._content

    @property
    def embeds(self) -&gt; typing.Sequence[embeds_.Embed]:
        return self._embeds.copy()

    @property
    def flags(self) -&gt; typing.Union[undefined.UndefinedType, int, messages.MessageFlag]:
        return self._flags

    @property
    def is_tts(self) -&gt; undefined.UndefinedOr[bool]:
        return self._is_tts

    @property
    def mentions_everyone(self) -&gt; undefined.UndefinedOr[bool]:
        return self._mentions_everyone

    @property
    def role_mentions(
        self,
    ) -&gt; undefined.UndefinedOr[typing.Union[snowflakes.SnowflakeishSequence[guilds.PartialRole], bool]]:
        return self._role_mentions

    @property
    def type(self) -&gt; base_interactions.MessageResponseTypesT:
        return self._type

    @property
    def user_mentions(
        self,
    ) -&gt; undefined.UndefinedOr[typing.Union[snowflakes.SnowflakeishSequence[users.PartialUser], bool]]:
        return self._user_mentions

    def add_embed(self: _InteractionMessageBuilderT, embed: embeds_.Embed, /) -&gt; _InteractionMessageBuilderT:
        self._embeds.append(embed)
        return self

    def set_content(
        self: _InteractionMessageBuilderT, content: undefined.UndefinedOr[str], /
    ) -&gt; _InteractionMessageBuilderT:
        self._content = content
        return self

    def set_flags(
        self: _InteractionMessageBuilderT, flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag], /
    ) -&gt; _InteractionMessageBuilderT:
        self._flags = flags
        return self

    def set_tts(self: _InteractionMessageBuilderT, tts: undefined.UndefinedOr[bool], /) -&gt; _InteractionMessageBuilderT:
        self._is_tts = tts
        return self

    def set_mentions_everyone(
        self: _InteractionMessageBuilderT, state: undefined.UndefinedOr[bool] = undefined.UNDEFINED, /
    ) -&gt; _InteractionMessageBuilderT:
        self._mentions_everyone = state
        return self

    def set_role_mentions(
        self: _InteractionMessageBuilderT,
        role_mentions: undefined.UndefinedOr[
            typing.Union[snowflakes.SnowflakeishSequence[guilds.PartialRole], bool]
        ] = undefined.UNDEFINED,
        /,
    ) -&gt; _InteractionMessageBuilderT:
        self._role_mentions = role_mentions
        return self

    def set_user_mentions(
        self: _InteractionMessageBuilderT,
        user_mentions: undefined.UndefinedOr[
            typing.Union[snowflakes.SnowflakeishSequence[users.PartialUser], bool]
        ] = undefined.UNDEFINED,
        /,
    ) -&gt; _InteractionMessageBuilderT:
        self._user_mentions = user_mentions
        return self

    def build(self, entity_factory: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
        data = data_binding.JSONObjectBuilder()
        data.put(&#34;content&#34;, self.content)
        if self._embeds:
            embeds: typing.List[data_binding.JSONObject] = []
            for embed, attachments in map(entity_factory.serialize_embed, self._embeds):
                if attachments:
                    raise ValueError(&#34;Cannot send an embed with attachments in a slash command&#39;s initial response&#34;)

                embeds.append(embed)

            data[&#34;embeds&#34;] = embeds

        data.put(&#34;flags&#34;, self.flags)
        data.put(&#34;tts&#34;, self.is_tts)

        if not undefined.all_undefined(self.mentions_everyone, self.user_mentions, self.role_mentions):
            data[&#34;allowed_mentions&#34;] = mentions.generate_allowed_mentions(
                self.mentions_everyone, undefined.UNDEFINED, self.user_mentions, self.role_mentions
            )

        return {&#34;type&#34;: self._type, &#34;data&#34;: data}</code></pre>
</details>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type that represents some form of information or entity.'>dataclass</abbr></em></small> <a title="InteractionMessageBuilder -- Standard implementation of `hikari.api.special_endpoints.InteractionMessageBuilder` …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class that has EMPTY slots, and only methods/properties. Can safely be used in multiple inheritance without side effects.'>abstract trait</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></dt>
<dd class="nested"><p>Interface of an interaction message response builder used within REST servers …</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class that has EMPTY slots, and only methods/properties. Can safely be used in multiple inheritance without side effects.'>abstract trait</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="InteractionResponseBuilder -- Base class for all interaction response builders used in the interaction server." href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder"
>InteractionResponseBuilder</a></dt>
<dd class="nested"><p>Base class for all interaction response builders used in the interaction server.</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="abc.ABC -- Helper class that provides a standard way to create an ABC using
inheritance." href="https://docs.python.org/3/library/abc.html#abc.ABC"
>abc.ABC</a></dt>
<dd class="nested"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></dd>
</dl>
<div class="sep"></div>
<h5>Variables and properties</h5>
<dl>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.content" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="content -- Response's message content …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.content"  >content</a> : Union[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>, <a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>]</code></pre>
</dt>
<dd><p>Response's message content.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]</code></dt>
<dd>The response's message content, if set.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.embeds" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="embeds -- Sequence of up to 10 of the embeds included in this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.embeds"  >embeds</a> : <a href='https://docs.python.org/3/library/typing.html#typing.Sequence'>Sequence</a>[<a href='../embeds.html#hikari.embeds.Embed'>embeds_.Embed</a>]</code></pre>
</dt>
<dd><p>Sequence of up to 10 of the embeds included in this response.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/typing.html#typing.Sequence'>Sequence</a>[<a href='../embeds.html#hikari.embeds.Embed'>Embed</a>]</code></dt>
<dd>A sequence of up to 10 of the embeds included in this response.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.flags" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="flags -- Message flags this response should have …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.flags"  >flags</a> : <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>undefined.UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>messages.MessageFlag</a>]</code></pre>
</dt>
<dd><p>Message flags this response should have.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>As of writing the only message flag which can be set here is
<code><a href='../messages.html#hikari.messages.MessageFlag.EPHEMERAL'>EPHEMERAL</a></code>.</p>
</div>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>MessageFlag</a>]</code></dt>
<dd>The message flags this response should have if set else
<code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code>.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.is_tts" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="is_tts -- Whether this response's content should be treated as text-to-speech …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.is_tts"  >is_tts</a> : Union[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>, <a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>]</code></pre>
</dt>
<dd><p>Whether this response's content should be treated as text-to-speech.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='https://docs.python.org/3/library/functions.html#bool'>bool</a></code></dt>
<dd>Whether this response's content should be treated as text-to-speech.
If left as <code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code> then this will be disabled.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.mentions_everyone" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="mentions_everyone -- Whether @everyone and @here mentions should be enabled for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.mentions_everyone"  >mentions_everyone</a> : Union[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>, <a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>]</code></pre>
</dt>
<dd><p>Whether @everyone and @here mentions should be enabled for this response.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]</code></dt>
<dd>Whether @everyone mentions should be enabled for this response.
If left as <code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code> then they will be disabled.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.role_mentions" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="role_mentions -- Whether and what role mentions should be enabled for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.role_mentions"  >role_mentions</a> : <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>snowflakes.SnowflakeishSequence</a>[<a href='../guilds.html#hikari.guilds.PartialRole'>guilds.PartialRole</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]]</code></pre>
</dt>
<dd><p>Whether and what role mentions should be enabled for this response.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>SnowflakeishSequence</a>[<a href='../users.html#hikari.users.PartialUser'>PartialUser</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]]</code></dt>
<dd>Either a sequence of object/IDs of the roles mentions should be enabled for,
<code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code> or <code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code> to disallow any role
mentions or <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> to allow all role mentions.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.type" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="type -- Return the type of this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.type"  >type</a> : Literal[<ResponseType.MESSAGE_CREATE: 4>]</code></pre>
</dt>
<dd><p>Return the type of this response.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../interactions/base_interactions.html#hikari.interactions.base_interactions.MessageResponseTypesT'>MessageResponseTypesT</a></code></dt>
<dd>The type of response this is.</dd>
</dl></dd>
</div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.user_mentions" class="anchor">
<dt>
<pre><code class="python"><small class='text-muted'><em><abbr title='A descriptor on an object that behaves like a synthetic attribute/variable.'>property</abbr></em></small> <a title="user_mentions -- Whether and what user mentions should be enabled for this response …" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.user_mentions"  >user_mentions</a> : <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>snowflakes.SnowflakeishSequence</a>[<a href='../users.html#hikari.users.PartialUser'>users.PartialUser</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]]</code></pre>
</dt>
<dd><p>Whether and what user mentions should be enabled for this response.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>SnowflakeishSequence</a>[<a href='../users.html#hikari.users.PartialUser'>PartialUser</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]]</code></dt>
<dd>Either a sequence of object/IDs of the users mentions should be enabled for,
<code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code> or <code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code> to disallow any user
mentions or <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> to allow all user mentions.</dd>
</dl></dd>
</div>
</dl>
<div class="sep"></div>
<h5>Methods</h5>
<dl>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.add_embed" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="add_embed" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.add_embed" id="hikari.impl.special_endpoints.InteractionMessageBuilder.add_embed">add_embed</a>(
    self: _InteractionMessageBuilderT,
    embed: <a href='../embeds.html#hikari.embeds.Embed'>embeds_.Embed</a>,
    /,
) -> _InteractionMessageBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="add_embed -- Add an embed to this response …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder.add_embed"
>add_embed</a></code>
</p>
<p>Add an embed to this response.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>embed</code></strong> :&ensp;<code><a href='../embeds.html#hikari.embeds.Embed'>Embed</a></code></dt>
<dd>Object of the embed to add to this response.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L798-L800" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def add_embed(self: _InteractionMessageBuilderT, embed: embeds_.Embed, /) -&gt; _InteractionMessageBuilderT:
    self._embeds.append(embed)
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.build" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="build" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.build" id="hikari.impl.special_endpoints.InteractionMessageBuilder.build">build</a>(
    entity_factory: <a href='../api/entity_factory.html#hikari.api.entity_factory.EntityFactory'>entity_factory_.EntityFactory</a>,
    /,
) -> <a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>data_binding.JSONObject</a>: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="build -- Build a JSON object from this builder …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionResponseBuilder.build"
>build</a></code>
</p>
<p>Build a JSON object from this builder.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>entity_factory</code></strong> :&ensp;<code><a href='../api/entity_factory.html#hikari.api.entity_factory.EntityFactory'>EntityFactory</a></code></dt>
<dd>The entity factory to use to serialize entities within this builder.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>JSONObject</a></code></dt>
<dd>The built json object representation of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L844-L865" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def build(self, entity_factory: entity_factory_.EntityFactory, /) -&gt; data_binding.JSONObject:
    data = data_binding.JSONObjectBuilder()
    data.put(&#34;content&#34;, self.content)
    if self._embeds:
        embeds: typing.List[data_binding.JSONObject] = []
        for embed, attachments in map(entity_factory.serialize_embed, self._embeds):
            if attachments:
                raise ValueError(&#34;Cannot send an embed with attachments in a slash command&#39;s initial response&#34;)

            embeds.append(embed)

        data[&#34;embeds&#34;] = embeds

    data.put(&#34;flags&#34;, self.flags)
    data.put(&#34;tts&#34;, self.is_tts)

    if not undefined.all_undefined(self.mentions_everyone, self.user_mentions, self.role_mentions):
        data[&#34;allowed_mentions&#34;] = mentions.generate_allowed_mentions(
            self.mentions_everyone, undefined.UNDEFINED, self.user_mentions, self.role_mentions
        )

    return {&#34;type&#34;: self._type, &#34;data&#34;: data}</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_content" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_content" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_content" id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_content">set_content</a>(
    self: _InteractionMessageBuilderT,
    content: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>],
    /,
) -> _InteractionMessageBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="set_content -- Set the response's message content …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder.set_content"
>set_content</a></code>
</p>
<p>Set the response's message content.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>content</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/stdtypes.html#str'>str</a>]</code></dt>
<dd>The message content to set for this response.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L802-L806" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_content(
    self: _InteractionMessageBuilderT, content: undefined.UndefinedOr[str], /
) -&gt; _InteractionMessageBuilderT:
    self._content = content
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_flags" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_flags" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_flags" id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_flags">set_flags</a>(
    self: _InteractionMessageBuilderT,
    flags: <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>undefined.UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>messages.MessageFlag</a>],
    /,
) -> _InteractionMessageBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="set_flags -- Set message flags for this response …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder.set_flags"
>set_flags</a></code>
</p>
<p>Set message flags for this response.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>As of writing, the only message flag which can be set is EPHEMERAL.</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>flags</code></strong> :&ensp;<code><a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../undefined.html#hikari.undefined.UndefinedType'>UndefinedType</a>, <a href='https://docs.python.org/3/library/functions.html#int'>int</a>, <a href='../messages.html#hikari.messages.MessageFlag'>MessageFlag</a>]</code></dt>
<dd>The message flags to set for this response.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L808-L812" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_flags(
    self: _InteractionMessageBuilderT, flags: typing.Union[undefined.UndefinedType, int, messages.MessageFlag], /
) -&gt; _InteractionMessageBuilderT:
    self._flags = flags
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_mentions_everyone" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_mentions_everyone" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_mentions_everyone" id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_mentions_everyone">set_mentions_everyone</a>(
    self: _InteractionMessageBuilderT,
    state: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>] = UNDEFINED,
    /,
) -> _InteractionMessageBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="set_mentions_everyone -- Set whether this response should be able to mention @everyone/@here …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder.set_mentions_everyone"
>set_mentions_everyone</a></code>
</p>
<p>Set whether this response should be able to mention @everyone/@here.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>mentions</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]</code></dt>
<dd>Whether this response should be able to mention @everyone/@here.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L818-L822" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_mentions_everyone(
    self: _InteractionMessageBuilderT, state: undefined.UndefinedOr[bool] = undefined.UNDEFINED, /
) -&gt; _InteractionMessageBuilderT:
    self._mentions_everyone = state
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_role_mentions" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_role_mentions" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_role_mentions" id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_role_mentions">set_role_mentions</a>(
    self: _InteractionMessageBuilderT,
    role_mentions: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>snowflakes.SnowflakeishSequence</a>[<a href='../guilds.html#hikari.guilds.PartialRole'>guilds.PartialRole</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]] = UNDEFINED,
    /,
) -> _InteractionMessageBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="set_role_mentions -- Set whether and what role mentions should be possible for this response …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder.set_role_mentions"
>set_role_mentions</a></code>
</p>
<p>Set whether and what role mentions should be possible for this response.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>mentions</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>SnowflakeishSequence</a>[<a href='../users.html#hikari.users.PartialUser'>PartialUser</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]]</code></dt>
<dd>Either a sequence of object/IDs of the roles mentions should be enabled for,
<code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code> or <code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code> to disallow any role
mentions or <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> to allow all role mentions.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L824-L832" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_role_mentions(
    self: _InteractionMessageBuilderT,
    role_mentions: undefined.UndefinedOr[
        typing.Union[snowflakes.SnowflakeishSequence[guilds.PartialRole], bool]
    ] = undefined.UNDEFINED,
    /,
) -&gt; _InteractionMessageBuilderT:
    self._role_mentions = role_mentions
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_tts" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_tts" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_tts" id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_tts">set_tts</a>(
    self: _InteractionMessageBuilderT,
    tts: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>],
    /,
) -> _InteractionMessageBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="set_tts -- Set whether this response should trigger text-to-speech processing …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder.set_tts"
>set_tts</a></code>
</p>
<p>Set whether this response should trigger text-to-speech processing.</p>
<h2 id="parameters">Parameters</h2>
<p>tts : Whether this response should trigger text-to-speech processing.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L814-L816" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_tts(self: _InteractionMessageBuilderT, tts: undefined.UndefinedOr[bool], /) -&gt; _InteractionMessageBuilderT:
    self._is_tts = tts
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
<div id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_user_mentions" class="anchor">
<dt>
<pre><code class="hljs python"><abbr title='A standard Python function.'>def</abbr> <a title="set_user_mentions" href="#hikari.impl.special_endpoints.InteractionMessageBuilder.set_user_mentions" id="hikari.impl.special_endpoints.InteractionMessageBuilder.set_user_mentions">set_user_mentions</a>(
    self: _InteractionMessageBuilderT,
    user_mentions: <a href='../undefined.html#hikari.undefined.UndefinedOr'>undefined.UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>snowflakes.SnowflakeishSequence</a>[<a href='../users.html#hikari.users.PartialUser'>users.PartialUser</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]] = UNDEFINED,
    /,
) -> _InteractionMessageBuilderT: ...</code></pre>
</dt>
<dd>
<p class="inheritance">
<em><small>Inherited from:</small></em>
<code><a title="InteractionMessageBuilder -- Interface of an interaction message response builder used within REST servers …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder"
>InteractionMessageBuilder</a></code>.<code><a title="set_user_mentions -- Set whether and what user mentions should be possible for this response …" href="../api/special_endpoints.html#hikari.api.special_endpoints.InteractionMessageBuilder.set_user_mentions"
>set_user_mentions</a></code>
</p>
<p>Set whether and what user mentions should be possible for this response.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>mentions</code></strong> :&ensp;<code><a href='../undefined.html#hikari.undefined.UndefinedOr'>UndefinedOr</a>[<a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='../snowflakes.html#hikari.snowflakes.SnowflakeishSequence'>SnowflakeishSequence</a>[<a href='../users.html#hikari.users.PartialUser'>PartialUser</a>], <a href='https://docs.python.org/3/library/functions.html#bool'>bool</a>]]</code></dt>
<dd>Either a sequence of object/IDs of the users mentions should be enabled for,
<code><a href='https://docs.python.org/3/library/constants.html#False'>False</a></code> or <code><a href='../undefined.html#hikari.undefined.UNDEFINED'>UNDEFINED</a></code> to disallow any user
mentions or <code><a href='https://docs.python.org/3/library/constants.html#True'>True</a></code> to allow all user mentions.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code><a href='#hikari.impl.special_endpoints.InteractionMessageBuilder'>InteractionMessageBuilder</a></code></dt>
<dd>Object of this builder.</dd>
</dl>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L834-L842" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">def set_user_mentions(
    self: _InteractionMessageBuilderT,
    user_mentions: undefined.UndefinedOr[
        typing.Union[snowflakes.SnowflakeishSequence[users.PartialUser], bool]
    ] = undefined.UNDEFINED,
    /,
) -&gt; _InteractionMessageBuilderT:
    self._user_mentions = user_mentions
    return self</code></pre>
</details>
</dd>
</div>
<div class="sep"></div>
</dl>
<div class="sep"></div>
</dd>
</div>
<div id="hikari.impl.special_endpoints.TypingIndicator" class="anchor">
<dt>
<h4><small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="TypingIndicator -- Result type of `hikari.api.rest.RESTClient.trigger_typing` …" href="#hikari.impl.special_endpoints.TypingIndicator"
>TypingIndicator</a></h4>
</dt>
<dd>
<pre><code id="hikari.impl.special_endpoints.TypingIndicator" class="hljs python"><abbr title='A standard Python type.'>class</abbr> TypingIndicator (
    request_call: <a href='https://docs.python.org/3/library/typing.html#typing.Callable'>Callable</a>[<a href='https://docs.python.org/3/glossary.html#term-1'>...</a>, <a href='https://docs.python.org/3/library/typing.html#typing.Coroutine'>Coroutine</a>[<a href='https://docs.python.org/3/library/constants.html#None'>None</a>, <a href='https://docs.python.org/3/library/constants.html#None'>None</a>, <a href='https://docs.python.org/3/library/typing.html#typing.Union'>Union</a>[<a href='https://docs.python.org/3/library/constants.html#None'>None</a>, <a href='../internal/data_binding.html#hikari.internal.data_binding.JSONObject'>data_binding.JSONObject</a>, <a href='../internal/data_binding.html#hikari.internal.data_binding.JSONArray'>data_binding.JSONArray</a>]]],
    channel: <a href='../snowflakes.html#hikari.snowflakes.SnowflakeishOr'>snowflakes.SnowflakeishOr</a>[<a href='../channels.html#hikari.channels.TextableChannel'>channels.TextableChannel</a>],
    rest_closed_event: <a href='https://docs.python.org/3/library/asyncio-sync.html#asyncio.Event'>Event</a>,
): ...</code></pre>
<p>Result type of <code><a href='../api/rest.html#hikari.api.rest.RESTClient.trigger_typing'>trigger_typing</a></code>.</p>
<p>This is an object that can either be awaited like a coroutine to trigger
the typing indicator once, or an async context manager to keep triggering
the typing indicator repeatedly until the context finishes.</p>
<div class="alert alert-success">
<p class="admonition-title">Note</p>
<p>This is a helper class that is used by <code><a href='../api/rest.html#hikari.api.rest.RESTClient'>RESTClient</a></code>.
You should only ever need to use instances of this class that are
produced by that API.</p>
</div>
<div class="sep"></div>
<details class="source">
<summary>
<span>Expand source code</span>
<br />
<a href="https://github.com/hikari-py/hikari/blob/9a93c10fcf7589ddddbbabede88d02a3925fa48d/hikari/impl/special_endpoints.py#L78-L156" class="git-link dotted">Browse git</a>
</summary>
<pre><code class="python">class TypingIndicator(special_endpoints.TypingIndicator):
    &#34;&#34;&#34;Result type of `hikari.api.rest.RESTClient.trigger_typing`.

    This is an object that can either be awaited like a coroutine to trigger
    the typing indicator once, or an async context manager to keep triggering
    the typing indicator repeatedly until the context finishes.

    !!! note
        This is a helper class that is used by `hikari.api.rest.RESTClient`.
        You should only ever need to use instances of this class that are
        produced by that API.
    &#34;&#34;&#34;

    __slots__: typing.Sequence[str] = (&#34;_route&#34;, &#34;_request_call&#34;, &#34;_task&#34;, &#34;_rest_close_event&#34;, &#34;_task_name&#34;)

    def __init__(
        self,
        request_call: typing.Callable[
            ..., typing.Coroutine[None, None, typing.Union[None, data_binding.JSONObject, data_binding.JSONArray]]
        ],
        channel: snowflakes.SnowflakeishOr[channels.TextableChannel],
        rest_closed_event: asyncio.Event,
    ) -&gt; None:
        self._route = routes.POST_CHANNEL_TYPING.compile(channel=channel)
        self._request_call = request_call
        self._task_name = f&#34;repeatedly trigger typing in {channel}&#34;
        self._task: typing.Optional[asyncio.Task[None]] = None
        self._rest_close_event = rest_closed_event

    def __await__(self) -&gt; typing.Generator[typing.Any, typing.Any, typing.Any]:
        return self._request_call(self._route).__await__()

    async def __aenter__(self) -&gt; None:
        if self._task is not None:
            raise TypeError(&#34;cannot enter a typing indicator context more than once.&#34;)
        self._task = asyncio.create_task(self._keep_typing(), name=self._task_name)

    async def __aexit__(
        self,
        exc_type: typing.Optional[typing.Type[BaseException]],
        exc_val: typing.Optional[BaseException],
        exc_tb: typing.Optional[types.TracebackType],
    ) -&gt; None:
        # This will always be true, but this keeps MyPy quiet.
        if self._task is not None:
            self._task.cancel()

    # These are only included at runtime in-order to avoid the model being typed as a synchronous context manager.
    if not typing.TYPE_CHECKING:

        def __enter__(self) -&gt; typing.NoReturn:
            # This is async only.
            cls = type(self)
            raise TypeError(f&#34;{cls.__module__}.{cls.__qualname__} is async-only, did you mean &#39;async with&#39;?&#34;) from None

        def __exit__(
            self,
            exc_type: typing.Optional[typing.Type[Exception]],
            exc_val: typing.Optional[Exception],
            exc_tb: typing.Optional[types.TracebackType],
        ) -&gt; None:
            return None

    async def _keep_typing(self) -&gt; None:
        # Cancelled error will occur when the context manager is requested to
        # stop.
        try:
            # If the REST API closes while typing, just stop.
            while not self._rest_close_event.is_set():
                # Use slightly less than 10s to ensure latency does not
                # cause the typing indicator to stop showing for a split
                # second if the request is slow to execute.
                try:
                    await asyncio.gather(self, asyncio.wait_for(self._rest_close_event.wait(), timeout=9.0))
                except asyncio.TimeoutError:
                    pass

        except (asyncio.CancelledError, errors.ComponentStateConflictError):
            pass</code></pre>
</details>
<div class="sep"></div>
<h5>Method resolution order</h5>
<dl>
<dt class="nested"><small class='text-muted'><em><abbr title='A standard Python type.'>class</abbr></em></small> <a title="TypingIndicator -- Result type of `hikari.api.rest.RESTClient.trigger_typing` …" href="#hikari.impl.special_endpoints.TypingIndicator"
>TypingIndicator</a></dt>
<dd class="nested"><em class="text-muted">That's this class!</em></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='An abstract base class which may have abstract methods and abstract properties.'>abstract</abbr> <abbr title='A standard Python type.'>class</abbr></em></small> <a title="TypingIndicator -- Result type of `hikari.api.rest.RESTClient.trigger_typing` …" href="../api/special_endpoints.html#hikari.api.special_endpoints.TypingIndicator"
>TypingIndicator</a></dt>
<dd class="nested"><p>Result type of <code><a href='../api/rest.html#hikari.api.rest.RESTClient.trigger_typing'>trigger_typing</a></code> …</p></dd>
<dt class="nested"><small class='text-muted'><em><abbr title='Anything that is external to this library.'>extern</abbr> class</em></small> <a title="abc.ABC -- Helper class that provides a standard way to create an ABC using
inheritance." href="https://docs.python.org/3/library/abc.html#abc.ABC"
>abc.ABC</a></dt>
<dd class="nested"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></dd>
</dl>
<div class="sep"></div>
</dd>
</div>
</dl>
</section>
</div>
</div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>